{"version":3,"sources":["view/TokenTable/CoinTitle/CoinTitle.module.scss","view/TokenTable/Variation/Variation.module.scss","view/TokenTable/Price/Price.module.scss","view/TokenTable/Pool/Pool.module.scss","config/abiBep20Config.ts","service/web3Service.ts","service/tokenInfoService.ts","helper/tokenHelper.ts","model/tokenModel.ts","service/tokenPoolService.ts","service/tokenPriceService.ts","asset/logo/bep20.png","service/notificationService.ts","service/tokenMappingService.ts","service/notificationMappingService.ts","view/TokenTable/CoinTitle/CoinTitle.tsx","view/TokenTable/Variation/Variation.tsx","view/TokenTable/Price/Price.tsx","view/TokenTable/Pool/Pool.tsx","view/TokenTable/TokenTable.tsx"],"names":["module","exports","ABI_BEP20_FACTORY","bscProvider","providers","JsonRpcProvider","BSC_NODE","bep20Proxy","Contract","PANCAKE_FACTORY","APE_FACTORY","BEP20_PROXY","inputs","internalType","name","type","outputs","stateMutability","constant","getTokenInfos","a","tokens","getState","tokenAddress","map","token","address","getChunkTokenInfos","infos","index","symbol","decimals","dispatch","tokenAction","getTokenInfo","chunkAddress","_","chunk","CHUNK_DATA_NUMBER","chunkSymbolPromises","chunkDecimalPromises","each","push","getSymbols","getDecimals","Promise","all","chunkDatas","flatten","slice","size","DApp","helper","computedLiquidity","reserve","reserveQuote","Number","utils","formatEther","computedTokenReservePricePerQuote","tokendecimals","reserveToken","formatUnits","reservePrice","convertToInternationalCurrencySystem","currency","abs","Math","round","toString","convertBalanceToInternationalCurrencySystem","roundCurrency","roundedCurrency","decimal","max","floor","length","buildBurnPercent","burn","isNil","getPools","busdAdressPairs","usdtAdressPairs","usdcAdressPairs","bnbAdressPairs","forEach","BUSD_BEP20","USDT_BEP20","USDC_BEP20","BNB_BEP20","adressPairs","getChunkPools","poolAddressReserve","bnbReservePrice","tokenHelper","last","quoteTokenAction","updateBnb","bnb","price","categorizePool","mappingCategorizePool","pancakePoolAddress","mappingPoolAddressReserve","PANCAKE","pancake","apePoolAddress","APE","ape","targetPool","maxBy","pools","getPool","chunkPoolAddressPancakePromises","chunkPoolAddressApePromises","chunkPoolReservePancakePromises","chunkPoolReserveApePromises","getPoolAddress","getReversesMulti","chunkLength","chunkNumber","chunkAddressPancake","chunkAddressApe","chunkReservePancake","chunkReserveApe","busd","usdt","usdc","dApp","categorizeAddressReserve","tokenIndex","tokenDecimals","toLowerCase","quoteSymbol","quoteAddress","liquidity","filter","pool","INVALID_ADDRESS","updateTokenPrice","pancakeAdressPairs","apeAdressPairs","poolReserve","isRequestError","updateChunkTokenPrice","console","log","tokenReserve","mappingTokeReserve","chunkPancakeAddress","chunkApeAddress","addressPairs","pushBrowserNotification","browserNotifications","defaultIcon","browserNotification","Notification","title","icon","body","onclick","e","preventDefault","window","open","buildPoolColumn","variationPrice","VARIATION_PERCENT_HIGHLIGHT","variationLiquidity","mappingVariationBrowserNotification","notifications","variationNotification","isPush","notification","buildTitleNotification","logoURI","buildBodyNotification","divisionPrice","CoinTitle","props","state","isCopied","onClickCopyClipboard","bind","copy","this","setState","setTimeout","coinTitle","web","className","style","logo","alt","src","logoBep20","href","target","rel","button","check","onClick","PureComponent","Variation","getStyle","getVariationText","variation","normal","manyUp","manyDown","division","wrap","Price","Pool","TokenTable","columnConfigs","cell","row","minWidth","filterText","createTheme","background","default","onChangeFilter","recursionUpdateTokenPrice","permission","requestPermission","alert","prevProps","JSON","stringify","tokenNotifications","then","r","CHUNK_DATA_DELAY","value","topMoverTokens","topDownMovers","topUpMovers","uniqBy","sortTopMoverTokens","includes","lg","offset","placeholder","onChange","columns","data","filterTokens","pagination","responsive","theme","customStyles","headCells","fontWeight","connect","chain","sortBy"],"mappings":"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","file":"static/js/4.17fa7d96.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"CoinTitle_logo__2DpXk\",\"title\":\"CoinTitle_title__pPd7J\",\"button\":\"CoinTitle_button__3_FZX\",\"check\":\"CoinTitle_check__VXOSx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Variation_wrap__1nxwR\",\"normal\":\"Variation_normal__2qN6O\",\"manyUp\":\"Variation_manyUp__1v02P\",\"manyDown\":\"Variation_manyDown__2v9P-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Price_wrap__BEA8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Pool_wrap__pU8tF\"};","export const ABI_BEP20_FACTORY = [\n  'function getPair(address tokenA, address tokenB) external view returns (address pair)',\n];\n\nexport const ABI_BEP20_PAIR = [\n  'function token0() external view returns (address)',\n  'function token1() external view returns (address)',\n  'function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast)',\n  'event Swap(address indexed sender, uint amount0In, uint amount1In, uint amount0Out, uint amount1Out, address indexed to)',\n];\n\nexport const ABI_BEP20_PROXY = [\n  {\n    inputs: [\n      {\n        internalType: 'address[]',\n        name: 'tokens',\n        type: 'address[]',\n      },\n    ],\n    name: 'getSymbols',\n    outputs: [\n      {\n        internalType: 'string[]',\n        name: 'symbols',\n        type: 'string[]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address[]',\n        name: 'tokens',\n        type: 'address[]',\n      },\n    ],\n    name: 'getDecimals',\n    outputs: [\n      {\n        internalType: 'uint8[]',\n        name: 'decimals',\n        type: 'uint8[]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'address[2][]',\n        name: 'pairs',\n        type: 'address[2][]',\n      },\n    ],\n    name: 'getPoolAddress',\n    outputs: [\n      {\n        internalType: 'address[]',\n        name: 'poolAddress',\n        type: 'address[]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'address[2][]',\n        name: 'pairs',\n        type: 'address[2][]',\n      },\n    ],\n    name: 'getReversesMulti',\n    outputs: [\n      {\n        internalType: 'uint112[2][]',\n        name: 'reserves',\n        type: 'uint112[2][]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n];\n","import { providers, Contract } from 'ethers';\nimport { ABI_BEP20_FACTORY, ABI_BEP20_PROXY } from '../config/abiBep20Config';\nimport {\n  BSC_NODE,\n  PANCAKE_FACTORY,\n  APE_FACTORY,\n  BEP20_PROXY,\n} from '../config/web3Config';\n\nexport const bscProvider = new providers.JsonRpcProvider(BSC_NODE);\n\nexport const pancakeFactory: Contract = new Contract(\n  PANCAKE_FACTORY,\n  ABI_BEP20_FACTORY,\n  bscProvider\n);\n\nexport const apeFactory: Contract = new Contract(\n  APE_FACTORY,\n  ABI_BEP20_FACTORY,\n  bscProvider\n);\n\nexport const bep20Proxy: Contract = new Contract(\n  BEP20_PROXY,\n  ABI_BEP20_PROXY,\n  bscProvider\n);\n","import _ from 'lodash';\nimport { CHUNK_DATA_NUMBER } from '../config/appConfig';\nimport { bep20Proxy } from './web3Service';\nimport { getState, dispatch } from '../store/config/store';\nimport tokenAction from '../store/tokenActionCreater';\nimport { ITokenDetail } from '../model/tokenModel';\n\nexport async function getTokenInfos() {\n  let tokens: ITokenDetail[] = getState().tokens;\n  const tokenAddress: string[] = tokens.map(\n    (token: ITokenDetail) => token.address\n  );\n\n  const infos: [string[], number[]] = await getChunkTokenInfos(tokenAddress);\n\n  tokens = tokens.map(\n    (token: ITokenDetail, index: number): ITokenDetail => ({\n      ...token,\n      symbol: infos[0][index],\n      decimals: infos[1][index],\n    })\n  );\n\n  dispatch(tokenAction.getTokenInfo(tokens));\n}\n\nasync function getChunkTokenInfos(\n  tokenAddress: string[]\n): Promise<[string[], number[]]> {\n  const chunkAddress: string[][] = _.chunk(tokenAddress, CHUNK_DATA_NUMBER);\n  let chunkSymbolPromises: Promise<any>[] = [];\n  let chunkDecimalPromises: Promise<any>[] = [];\n\n  _.each(chunkAddress, (address: string[]) => {\n    chunkSymbolPromises.push(bep20Proxy.getSymbols(address));\n    chunkDecimalPromises.push(bep20Proxy.getDecimals(address));\n  });\n\n  const chunkDatas = await Promise.all([\n    ...chunkSymbolPromises,\n    ...chunkDecimalPromises,\n  ]);\n  const infos: [string[], number[]] = [\n    _.flatten(_.slice(chunkDatas, 0, _.size(chunkDatas) / 2) as string[][]),\n    _.flatten(_.slice(chunkDatas, _.size(chunkDatas) / 2) as number[][]),\n  ];\n\n  return infos;\n}\n","import _ from 'lodash';\nimport { utils, BigNumber } from 'ethers';\n\nfunction computedLiquidity(reserve: [BigNumber, BigNumber]): number {\n  const reserveQuote = Number(utils.formatEther(reserve[0]));\n\n  if (!reserveQuote) return 0;\n\n  return reserveQuote;\n}\n\nfunction computedTokenReservePricePerQuote(\n  reserve: [BigNumber, BigNumber],\n  tokendecimals: number = 18\n): number {\n  const reserveQuote = Number(utils.formatEther(reserve[0]));\n  const reserveToken = Number(utils.formatUnits(reserve[1], tokendecimals));\n\n  if (!reserveQuote || !reserveToken) return 0;\n\n  const reservePrice: number = reserveQuote / reserveToken;\n\n  return reservePrice;\n}\n\nfunction convertToInternationalCurrencySystem(currency: number): string {\n  const abs: number = Math.abs(Number(currency));\n  const currencySystem: string =\n    // Nine Zeroes for Billions\n    abs >= 1.0e9\n      ? _.round(abs / 1.0e9, 3) + 'B'\n      : // Six Zeroes for Millions\n      abs >= 1.0e6\n      ? _.round(abs / 1.0e6, 2) + 'M'\n      : // Three Zeroes for Thousands\n      abs >= 1.0e3\n      ? _.round(abs / 1.0e3, 1) + 'K'\n      : _.round(abs).toString();\n\n  return currencySystem;\n}\n\nfunction convertBalanceToInternationalCurrencySystem(currency: number): string {\n  const abs: number = Math.abs(Number(currency));\n  const currencySystem: string =\n    // Nine Zeroes for Billions\n    abs >= 1.0e9\n      ? _.round(abs / 1.0e9, 2) + 'B'\n      : // Six Zeroes for Millions\n      abs >= 1.0e6\n      ? _.round(abs / 1.0e6, 2) + 'M'\n      : // Five Zeroes for Thousands\n      abs >= 1.0e5\n      ? _.round(abs / 1.0e3) + 'K'\n      : abs >= 1.0e3\n      ? _.round(abs, 2).toString()\n      : abs >= 1.0e1\n      ? _.round(abs, 3).toString()\n      : _.round(abs, 6).toString();\n\n  return currencySystem;\n}\n\nfunction roundCurrency(currency: number): string {\n  const abs: number = Math.abs(Number(currency));\n  let roundedCurrency;\n\n  if (abs >= 1) {\n    const decimal: number = Math.max(5 - Math.floor(abs).toString().length, 2);\n\n    roundedCurrency = _.round(abs, decimal);\n  } else {\n    const decimal: number = Math.floor(1 / (abs % 1)).toString().length + 4;\n\n    roundedCurrency = _.round(abs, decimal);\n  }\n\n  return roundedCurrency.toString();\n}\n\nfunction buildBurnPercent(burn?: number): string {\n  if (_.isNil(burn)) {\n    return '';\n  }\n\n  if (burn === -1) {\n    return '?';\n  }\n\n  return burn + '%';\n}\n\nconst helper = {\n  computedLiquidity,\n  computedTokenReservePricePerQuote,\n  convertToInternationalCurrencySystem,\n  convertBalanceToInternationalCurrencySystem,\n  roundCurrency,\n  buildBurnPercent,\n};\n\nexport default helper;\n","export enum DApp {\n  PANCAKE = 'PANCAKE',\n  APE = 'APE',\n}\n\nexport interface ITokenBase {\n  name: string;\n  symbol?: string;\n  address: string;\n  decimals?: number;\n  logoURI?: string;\n  burn?: number;\n  web?: string;\n}\n\nexport interface TimelinePrice {\n  price: number;\n  liquidity?: number;\n  timestamp: number;\n}\n\nexport interface CachePrice {\n  price: number;\n  liquidity?: number;\n  timelinePrices: TimelinePrice[];\n}\n\nexport interface IPool {\n  dApp?: DApp;\n  address: string;\n  quoteSymbol: string;\n  quoteAddress: string;\n  liquidity?: number;\n  reservePrice?: number;\n  reserve?: [string, string];\n}\n\nexport interface IVariationNotification {\n  cacheVariation?: number;\n  isPush: boolean;\n  hasOncePush: boolean;\n  timestamp: number;\n}\n\nexport interface ITokenDetail extends ITokenBase, ITokenPrice {\n  targetPool?: IPool;\n  pools?: IPool[];\n  variationNotification?: IVariationNotification;\n  variationNotificationFomo?: IVariationNotification;\n}\n\nexport interface ITokenTable {\n  coinTitle: string;\n  pool: string;\n  price: string;\n  variation: number;\n  division: number;\n  address: string;\n  logoURI?: string;\n  web?: string;\n}\n\ninterface ITokenPrice {\n  price?: number;\n  oldPrice?: number;\n  variationPrice?: number;\n  divisionPrice?: number;\n  variationLiquidity?: number;\n  cachePrice?: CachePrice;\n}\n","import _ from 'lodash';\nimport { utils, BigNumber } from 'ethers';\nimport { CHUNK_DATA_NUMBER } from '../config/appConfig';\nimport {\n  BUSD_BEP20,\n  USDT_BEP20,\n  USDC_BEP20,\n  BNB_BEP20,\n} from '../config/tokenBep20Config';\nimport {\n  PANCAKE_FACTORY,\n  APE_FACTORY,\n  INVALID_ADDRESS,\n} from '../config/web3Config';\nimport tokenHelper from '../helper/tokenHelper';\nimport { bep20Proxy } from './web3Service';\nimport { dispatch, getState } from '../store/config/store';\nimport quoteTokenAction from '../store/quoteTokenActionCreater';\nimport tokenAction from '../store/tokenActionCreater';\nimport { DApp, IPool, ITokenDetail } from '../model/tokenModel';\n\ntype TPoolAddressReserve = [\n  string[],\n  string[],\n  [BigNumber, BigNumber][],\n  [BigNumber, BigNumber][]\n];\n\ntype AddressReserve = {\n  address: string[];\n  reserve: [BigNumber, BigNumber][];\n};\n\ntype TCategorizeAddressReserve = {\n  busd: AddressReserve;\n  usdt: AddressReserve;\n  usdc: AddressReserve;\n  bnb: AddressReserve;\n};\n\ntype TCategorizePool = {\n  pancake: TCategorizeAddressReserve;\n  ape: TCategorizeAddressReserve;\n};\n\nexport async function getPools() {\n  let tokens: ITokenDetail[] = getState().tokens;\n  let busdAdressPairs: [string, string][] = [];\n  let usdtAdressPairs: [string, string][] = [];\n  let usdcAdressPairs: [string, string][] = [];\n  let bnbAdressPairs: [string, string][] = [];\n  let adressPairs: [string, string][] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    busdAdressPairs.push([BUSD_BEP20.address, token.address]);\n    usdtAdressPairs.push([USDT_BEP20.address, token.address]);\n    usdcAdressPairs.push([USDC_BEP20.address, token.address]);\n    bnbAdressPairs.push([BNB_BEP20.address, token.address]);\n  });\n\n  adressPairs = [\n    ...busdAdressPairs,\n    ...usdtAdressPairs,\n    ...usdcAdressPairs,\n    ...bnbAdressPairs,\n  ];\n\n  const poolAddressReserve: TPoolAddressReserve = await getChunkPools(\n    adressPairs\n  );\n\n  const bnbReservePrice = tokenHelper.computedTokenReservePricePerQuote(\n    _.last(poolAddressReserve[2]) as [BigNumber, BigNumber]\n  );\n  dispatch(quoteTokenAction.updateBnb({ bnb: { price: bnbReservePrice } }));\n\n  const categorizePool: TCategorizePool = mappingCategorizePool(\n    poolAddressReserve,\n    tokens.length\n  );\n\n  tokens = tokens.map((token: ITokenDetail, index: number): ITokenDetail => {\n    const pancakePoolAddress: IPool[] = mappingPoolAddressReserve(\n      DApp.PANCAKE,\n      categorizePool.pancake,\n      index,\n      token.decimals as number,\n      bnbReservePrice\n    );\n    const apePoolAddress: IPool[] = mappingPoolAddressReserve(\n      DApp.APE,\n      categorizePool.ape,\n      index,\n      token.decimals as number,\n      bnbReservePrice\n    );\n    const targetPool: IPool = _.maxBy(\n      [...pancakePoolAddress, ...apePoolAddress],\n      'liquidity'\n    ) as IPool;\n\n    return {\n      ...token,\n      price: targetPool.reservePrice,\n      targetPool,\n      pools: [...pancakePoolAddress, ...apePoolAddress],\n    };\n  });\n\n  dispatch(tokenAction.getPool(tokens));\n}\n\nasync function getChunkPools(\n  adressPairs: [string, string][]\n): Promise<TPoolAddressReserve> {\n  const chunkAddress: [string, string][][] = _.chunk(\n    adressPairs,\n    CHUNK_DATA_NUMBER\n  );\n  let chunkPoolAddressPancakePromises: Promise<any>[] = [];\n  let chunkPoolAddressApePromises: Promise<any>[] = [];\n  let chunkPoolReservePancakePromises: Promise<any>[] = [];\n  let chunkPoolReserveApePromises: Promise<any>[] = [];\n\n  _.each(chunkAddress, (address: [string, string][]) => {\n    chunkPoolAddressPancakePromises.push(\n      bep20Proxy.getPoolAddress(PANCAKE_FACTORY, address)\n    );\n    chunkPoolAddressApePromises.push(\n      bep20Proxy.getPoolAddress(APE_FACTORY, address)\n    );\n    chunkPoolReservePancakePromises.push(\n      bep20Proxy.getReversesMulti(PANCAKE_FACTORY, address)\n    );\n    chunkPoolReserveApePromises.push(\n      bep20Proxy.getReversesMulti(APE_FACTORY, address)\n    );\n  });\n\n  const chunkDatas = await Promise.all([\n    ...chunkPoolAddressPancakePromises,\n    ...chunkPoolAddressApePromises,\n    ...chunkPoolReservePancakePromises,\n    ...chunkPoolReserveApePromises,\n    bep20Proxy.getReversesMulti(PANCAKE_FACTORY, [\n      [BUSD_BEP20.address, BNB_BEP20.address],\n    ]),\n  ]);\n  const chunkLength: number = (_.size(chunkDatas) - 1) / 4;\n  const poolAddressReserve: TPoolAddressReserve = [\n    _.flatten(_.slice(chunkDatas, 0, chunkLength) as string[][]),\n    _.flatten(_.slice(chunkDatas, chunkLength, chunkLength * 2) as string[][]),\n    _.flatten([\n      ..._.slice(chunkDatas, chunkLength * 2, chunkLength * 3),\n      _.last(chunkDatas),\n    ] as [BigNumber, BigNumber][][]),\n    _.flatten(\n      _.slice(chunkDatas, chunkLength * 3, chunkLength * 4) as [\n        BigNumber,\n        BigNumber\n      ][][]\n    ),\n  ];\n\n  return poolAddressReserve;\n}\n\nfunction mappingCategorizePool(\n  poolAddressReserve: TPoolAddressReserve,\n  chunkNumber: number\n): TCategorizePool {\n  const chunkAddressPancake = _.chunk(poolAddressReserve[0], chunkNumber);\n  const chunkAddressApe = _.chunk(poolAddressReserve[1], chunkNumber);\n  const chunkReservePancake = _.chunk(poolAddressReserve[2], chunkNumber);\n  const chunkReserveApe = _.chunk(poolAddressReserve[3], chunkNumber);\n\n  const categorizePool: TCategorizePool = {\n    pancake: {\n      busd: {\n        address: chunkAddressPancake[0],\n        reserve: chunkReservePancake[0],\n      },\n      usdt: {\n        address: chunkAddressPancake[1],\n        reserve: chunkReservePancake[1],\n      },\n      usdc: {\n        address: chunkAddressPancake[2],\n        reserve: chunkReservePancake[2],\n      },\n      bnb: {\n        address: chunkAddressPancake[3],\n        reserve: chunkReservePancake[3],\n      },\n    },\n    ape: {\n      busd: {\n        address: chunkAddressApe[0],\n        reserve: chunkReserveApe[0],\n      },\n      usdt: {\n        address: chunkAddressApe[1],\n        reserve: chunkReserveApe[1],\n      },\n      usdc: {\n        address: chunkAddressApe[2],\n        reserve: chunkReserveApe[2],\n      },\n      bnb: {\n        address: chunkAddressApe[3],\n        reserve: chunkReserveApe[3],\n      },\n    },\n  };\n\n  return categorizePool;\n}\n\nfunction mappingPoolAddressReserve(\n  dApp: DApp,\n  categorizeAddressReserve: TCategorizeAddressReserve,\n  tokenIndex: number,\n  tokenDecimals: number,\n  bnbReservePrice: number\n): IPool[] {\n  let pools: IPool[] = [\n    {\n      dApp,\n      address: categorizeAddressReserve.busd.address[tokenIndex].toLowerCase(),\n      quoteSymbol: BUSD_BEP20.symbol as string,\n      quoteAddress: BUSD_BEP20.address,\n      liquidity: tokenHelper.computedLiquidity(\n        categorizeAddressReserve.busd.reserve[tokenIndex]\n      ),\n      reservePrice: tokenHelper.computedTokenReservePricePerQuote(\n        categorizeAddressReserve.busd.reserve[tokenIndex],\n        tokenDecimals\n      ),\n      reserve: [\n        utils.formatUnits(\n          categorizeAddressReserve.busd.reserve[tokenIndex][0],\n          tokenDecimals\n        ),\n        utils.formatUnits(\n          categorizeAddressReserve.busd.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n    {\n      dApp,\n      address: categorizeAddressReserve.usdt.address[tokenIndex].toLowerCase(),\n      quoteSymbol: USDT_BEP20.symbol as string,\n      quoteAddress: USDT_BEP20.address,\n      liquidity: tokenHelper.computedLiquidity(\n        categorizeAddressReserve.usdt.reserve[tokenIndex]\n      ),\n      reservePrice: tokenHelper.computedTokenReservePricePerQuote(\n        categorizeAddressReserve.usdt.reserve[tokenIndex],\n        tokenDecimals\n      ),\n      reserve: [\n        utils.formatUnits(\n          categorizeAddressReserve.usdt.reserve[tokenIndex][0],\n          tokenDecimals\n        ),\n        utils.formatUnits(\n          categorizeAddressReserve.usdt.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n    {\n      dApp,\n      address: categorizeAddressReserve.usdc.address[tokenIndex].toLowerCase(),\n      quoteSymbol: USDC_BEP20.symbol as string,\n      quoteAddress: USDC_BEP20.address,\n      liquidity: tokenHelper.computedLiquidity(\n        categorizeAddressReserve.usdc.reserve[tokenIndex]\n      ),\n      reservePrice: tokenHelper.computedTokenReservePricePerQuote(\n        categorizeAddressReserve.usdc.reserve[tokenIndex],\n        tokenDecimals\n      ),\n      reserve: [\n        utils.formatUnits(\n          categorizeAddressReserve.usdc.reserve[tokenIndex][0],\n          tokenDecimals\n        ),\n        utils.formatUnits(\n          categorizeAddressReserve.usdc.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n    {\n      dApp,\n      address: categorizeAddressReserve.bnb.address[tokenIndex].toLowerCase(),\n      quoteSymbol: BNB_BEP20.symbol as string,\n      quoteAddress: BNB_BEP20.address,\n      liquidity:\n        tokenHelper.computedLiquidity(\n          categorizeAddressReserve.bnb.reserve[tokenIndex]\n        ) * bnbReservePrice,\n      reservePrice:\n        tokenHelper.computedTokenReservePricePerQuote(\n          categorizeAddressReserve.bnb.reserve[tokenIndex],\n          tokenDecimals\n        ) * bnbReservePrice,\n      reserve: [\n        utils.formatUnits(\n          categorizeAddressReserve.bnb.reserve[tokenIndex][0],\n          tokenDecimals\n        ),\n        utils.formatUnits(\n          categorizeAddressReserve.bnb.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n  ];\n\n  pools = pools.filter(\n    (pool: IPool): boolean => pool.address !== INVALID_ADDRESS\n  );\n\n  return pools;\n}\n","import _ from 'lodash';\nimport { Contract, Event, EventFilter, utils, BigNumber } from 'ethers';\nimport { CHUNK_DATA_NUMBER } from '../config/appConfig';\nimport {\n  BUSD_BEP20,\n  USDT_BEP20,\n  USDC_BEP20,\n  BNB_BEP20,\n} from '../config/tokenBep20Config';\nimport { ABI_BEP20_PAIR } from '../config/abiBep20Config';\nimport {\n  PANCAKE_FACTORY,\n  APE_FACTORY,\n  BNB_BUSD_PANCAKE_POOL,\n} from '../config/web3Config';\nimport tokenHelper from '../helper/tokenHelper';\nimport { bscProvider, bep20Proxy } from './web3Service';\nimport { dispatch, getState } from '../store/config/store';\nimport quoteTokenAction from '../store/quoteTokenActionCreater';\nimport tokenAction from '../store/tokenActionCreater';\nimport { DApp, IPool, ITokenDetail } from '../model/tokenModel';\n\ntype TTokenReserve = { [key: string]: [BigNumber, BigNumber] };\n\ntype TSwapAmount = {\n  amount0In: BigNumber;\n  amount0Out: BigNumber;\n  amount1In: BigNumber;\n  amount1Out: BigNumber;\n};\n\nexport async function updateTokenPrice() {\n  let tokens: ITokenDetail[] = getState().tokens;\n  let pancakeAdressPairs: [string, string][] = [];\n  let apeAdressPairs: [string, string][] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    switch (token.targetPool?.dApp) {\n      case DApp.PANCAKE:\n        pancakeAdressPairs.push([\n          token.targetPool?.quoteAddress as string,\n          token.address,\n        ]);\n        break;\n\n      case DApp.APE:\n        apeAdressPairs.push([\n          token.targetPool?.quoteAddress as string,\n          token.address,\n        ]);\n        break;\n    }\n  });\n\n  let poolReserve: [[BigNumber, BigNumber][], [BigNumber, BigNumber][]] = [\n    [],\n    [],\n  ];\n  let isRequestError = false;\n\n  try {\n    poolReserve = await updateChunkTokenPrice(\n      pancakeAdressPairs,\n      apeAdressPairs\n    );\n  } catch (error) {\n    isRequestError = true;\n    console.log(error);\n  }\n\n  if (isRequestError) {\n    return;\n  }\n\n  const bnbReservePrice = tokenHelper.computedTokenReservePricePerQuote(\n    _.last(poolReserve[0]) as [BigNumber, BigNumber]\n  );\n  dispatch(quoteTokenAction.updateBnb({ bnb: { price: bnbReservePrice } }));\n\n  const tokenReserve: TTokenReserve = mappingTokeReserve(\n    [...pancakeAdressPairs, ...apeAdressPairs],\n    [...poolReserve[0].slice(0, poolReserve[0].length - 1), ...poolReserve[1]]\n  );\n\n  tokens = tokens.map((token: ITokenDetail): ITokenDetail => {\n    const reserve = tokenReserve[token.address];\n    let liquidity: number = token.targetPool?.liquidity as number;\n    let reservePrice: number = token.price as number;\n\n    switch (token.targetPool?.quoteAddress) {\n      case BUSD_BEP20.address:\n      case USDT_BEP20.address:\n      case USDC_BEP20.address:\n        liquidity = tokenHelper.computedLiquidity(reserve);\n        reservePrice = tokenHelper.computedTokenReservePricePerQuote(\n          reserve,\n          token.decimals\n        );\n\n        break;\n\n      case BNB_BEP20.address:\n        liquidity = tokenHelper.computedLiquidity(reserve) * bnbReservePrice;\n        reservePrice =\n          tokenHelper.computedTokenReservePricePerQuote(\n            reserve,\n            token.decimals\n          ) * bnbReservePrice;\n\n        break;\n    }\n\n    return {\n      ...token,\n      price: reservePrice,\n      targetPool: {\n        ...(token.targetPool as IPool),\n        liquidity,\n        reservePrice,\n      },\n    };\n  });\n\n  dispatch(tokenAction.updateTokenPrice(tokens));\n}\n\nasync function updateChunkTokenPrice(\n  pancakeAdressPairs: [string, string][],\n  apeAdressPairs: [string, string][]\n): Promise<[[BigNumber, BigNumber][], [BigNumber, BigNumber][]]> {\n  const chunkPancakeAddress: [string, string][][] = _.chunk(\n    pancakeAdressPairs,\n    CHUNK_DATA_NUMBER\n  );\n  const chunkApeAddress: [string, string][][] = _.chunk(\n    apeAdressPairs,\n    CHUNK_DATA_NUMBER\n  );\n  let chunkPoolReservePancakePromises: Promise<any>[] = [];\n  let chunkPoolReserveApePromises: Promise<any>[] = [];\n\n  _.each(chunkPancakeAddress, (address: [string, string][]) => {\n    chunkPoolReservePancakePromises.push(\n      bep20Proxy.getReversesMulti(PANCAKE_FACTORY, address)\n    );\n  });\n  _.each(chunkApeAddress, (address: [string, string][]) => {\n    chunkPoolReserveApePromises.push(\n      bep20Proxy.getReversesMulti(APE_FACTORY, address)\n    );\n  });\n\n  const chunkDatas = await Promise.all([\n    ...chunkPoolReservePancakePromises,\n    ...chunkPoolReserveApePromises,\n    bep20Proxy.getReversesMulti(PANCAKE_FACTORY, [\n      [BUSD_BEP20.address, BNB_BEP20.address],\n    ]),\n  ]);\n  const chunkLength: number = (_.size(chunkDatas) - 1) / 2;\n  const poolReserve: [[BigNumber, BigNumber][], [BigNumber, BigNumber][]] = [\n    _.flatten([..._.slice(chunkDatas, 0, chunkLength), _.last(chunkDatas)] as [\n      BigNumber,\n      BigNumber\n    ][][]),\n    _.flatten(\n      _.slice(chunkDatas, chunkLength, chunkLength * 2) as [\n        BigNumber,\n        BigNumber\n      ][][]\n    ),\n  ];\n\n  return poolReserve;\n}\n\nexport async function updateTokenOldPrice() {\n  const OLD_BLOCK = 400;\n  const RANGE_BLOCK = 60;\n  const tokens: ITokenDetail[] = getState().tokens;\n  const bnbToken: ITokenDetail = {\n    ...BNB_BEP20,\n    targetPool: {\n      address: BNB_BUSD_PANCAKE_POOL,\n      quoteSymbol: BUSD_BEP20.symbol as string,\n      quoteAddress: BUSD_BEP20.address,\n    },\n  };\n  const lastBlock: number = await bscProvider.getBlockNumber();\n  let oldSwapPromises: Promise<ITokenDetail | null>[] = [];\n\n  [...tokens, bnbToken].forEach((token: ITokenDetail) => {\n    const poolContract = new Contract(\n      token.targetPool?.address as string,\n      ABI_BEP20_PAIR,\n      bscProvider\n    );\n    const filter: EventFilter = poolContract.filters.Swap();\n    const oldSwapPromise = poolContract\n      .queryFilter(\n        filter,\n        lastBlock - OLD_BLOCK - RANGE_BLOCK,\n        lastBlock - OLD_BLOCK\n      )\n      .then((results: Event[]): ITokenDetail | null => {\n        if (results.length === 0) {\n          return null;\n        }\n\n        const swapAmount: TSwapAmount = {\n          amount0In: _.last(results)?.args?.['amount0In'],\n          amount0Out: _.last(results)?.args?.['amount0Out'],\n          amount1In: _.last(results)?.args?.['amount1In'],\n          amount1Out: _.last(results)?.args?.['amount1Out'],\n        };\n\n        return {\n          ...token,\n          oldPrice: Math.abs(\n            computedTokenSwapPricePerQuote(\n              token.targetPool?.quoteAddress as string,\n              token.address,\n              token.decimals as number,\n              swapAmount\n            )\n          ),\n        };\n      });\n\n    oldSwapPromises.push(oldSwapPromise);\n  });\n\n  let oldSwapTokens: ITokenDetail[] = _.compact(\n    await Promise.all(oldSwapPromises)\n  );\n\n  oldSwapTokens = convertOldPriceToUsd(oldSwapTokens);\n\n  dispatch(tokenAction.updateTokenOldPrice(oldSwapTokens));\n}\n\nfunction mappingTokeReserve(\n  addressPairs: [string, string][],\n  reserve: [BigNumber, BigNumber][]\n): TTokenReserve {\n  const tokenReserve: TTokenReserve = {};\n\n  addressPairs.forEach((address: [string, string], index: number) => {\n    tokenReserve[address[1]] = reserve[index];\n  });\n\n  return tokenReserve;\n}\n\nfunction computedTokenSwapPricePerQuote(\n  quoteTokenAddress: string,\n  tokenAddress: string,\n  tokenDecimals: number,\n  swapAmount: TSwapAmount\n): number {\n  const quoteTokenBigNumber = BigNumber.from(quoteTokenAddress);\n  const tokenBigNumber = BigNumber.from(tokenAddress);\n\n  let swapPrice: number;\n\n  if (quoteTokenBigNumber.lt(tokenBigNumber)) {\n    const amount0In = Number(utils.formatEther(swapAmount.amount0In));\n    const amount0Out = Number(utils.formatEther(swapAmount.amount0Out));\n    const amount1In = Number(\n      utils.formatUnits(swapAmount.amount1In, tokenDecimals)\n    );\n    const amount1Out = Number(\n      utils.formatUnits(swapAmount.amount1Out, tokenDecimals)\n    );\n\n    if (amount0In) {\n      swapPrice = amount0In / amount1Out;\n    } else {\n      swapPrice = -amount0Out / amount1In;\n    }\n  } else {\n    const amount0In = Number(\n      utils.formatUnits(swapAmount.amount0In, tokenDecimals)\n    );\n    const amount0Out = Number(\n      utils.formatUnits(swapAmount.amount0Out, tokenDecimals)\n    );\n    const amount1In = Number(utils.formatEther(swapAmount.amount1In));\n    const amount1Out = Number(utils.formatEther(swapAmount.amount1Out));\n\n    if (amount0In) {\n      swapPrice = -amount1Out / amount0In;\n    } else {\n      swapPrice = amount1In / amount0Out;\n    }\n  }\n\n  return swapPrice;\n}\n\nfunction convertOldPriceToUsd(oldSwapTokens: ITokenDetail[]): ITokenDetail[] {\n  const oldPriceBnb: number = _.last(oldSwapTokens)?.oldPrice as number;\n\n  return oldSwapTokens.map((token: ITokenDetail): ITokenDetail => {\n    if (BNB_BEP20.address === token.targetPool?.quoteAddress) {\n      return {\n        ...token,\n        oldPrice: (token.oldPrice as number) * (oldPriceBnb as number),\n      };\n    }\n\n    return token;\n  });\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAIAAAAnApehAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMTItMDFUMjI6NTc6NTYrMDc6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTEyLTAxVDIyOjU5OjM4KzA3OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTEyLTAxVDIyOjU5OjM4KzA3OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjczNGJiNTE4LWRiNTYt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\"","import { IBrowserNotification } from '../model/notificationModel';\nimport logoBep20 from '../asset/logo/bep20.png';\n\nexport function checkBrowserNotification() {\n  if (!('Notification' in window)) {\n    alert('This browser does not support desktop notification!');\n\n    return;\n  }\n\n  if (Notification.permission !== 'granted') Notification.requestPermission();\n}\n\nexport function notifyVariationPrice(\n  browserNotifications: IBrowserNotification[]\n) {\n  if (!('Notification' in window)) {\n    return;\n  } else {\n    if (Notification.permission === 'granted') {\n      pushBrowserNotification(browserNotifications, logoBep20);\n    } else {\n      Notification.requestPermission().then((permission: string) => {\n        if (permission === 'granted') {\n          pushBrowserNotification(browserNotifications, logoBep20);\n        }\n      });\n    }\n  }\n}\n\nfunction pushBrowserNotification(\n  browserNotifications: IBrowserNotification[],\n  defaultIcon?: string\n) {\n  browserNotifications.forEach((browserNotification: IBrowserNotification) => {\n    const notification = new Notification(browserNotification.title, {\n      icon: browserNotification.icon || defaultIcon,\n      body: browserNotification.body,\n    });\n\n    notification.onclick = function (e) {\n      e.preventDefault();\n      window.open(\n        `https://poocoin.app/tokens/${browserNotification.address}`,\n        '_blank'\n      );\n    };\n  });\n}\n","import _ from 'lodash';\nimport { VARIATION_PERCENT_HIGHLIGHT } from '../config/appConfig';\nimport tokenHelper from '../helper/tokenHelper';\nimport { DApp, ITokenDetail, ITokenTable } from '../model/tokenModel';\n\nexport function mappingTokenTable(tokens: ITokenDetail[]): ITokenTable[] {\n  const mappedTokenTable: ITokenTable[] = _.chain(tokens)\n    .sortBy(['variationPrice'])\n    .map(\n      (token: ITokenDetail): ITokenTable => ({\n        coinTitle: `${\n          _.isNil(token.burn)\n            ? token.name\n            : '*[' +\n              tokenHelper.buildBurnPercent(token.burn) +\n              '] ' +\n              token.name\n        } (${token.symbol ? token.symbol : 'NA'})`,\n        pool: buildPoolColumn(token),\n        price: _.isNil(token.price)\n          ? 'NA'\n          : `${tokenHelper.roundCurrency(token.price)}`,\n        variation: token.variationPrice as number,\n        division: token.divisionPrice as number,\n        address: token.address,\n        logoURI: token.logoURI,\n        web: token.web,\n      })\n    )\n    .value();\n\n  return mappedTokenTable;\n}\n\nexport function sortTopMoverTokens(tokens: ITokenTable[]): ITokenTable[] {\n  const topDownMovers: ITokenTable[] = _.slice(tokens, 0, 5);\n  const topUpMovers: ITokenTable[] = _.slice(tokens, -5);\n  const topMoverTokens: ITokenTable[] = _.uniqBy(\n    [...topDownMovers, ...topUpMovers, ..._.slice(tokens, 5, -5)],\n    'address'\n  );\n\n  return topMoverTokens;\n}\n\nfunction buildPoolColumn(token: ITokenDetail): string {\n  return _.isNil(token.targetPool?.liquidity)\n    ? 'NA'\n    : `${tokenHelper.convertToInternationalCurrencySystem(\n        token.targetPool?.liquidity as number\n      )} (${\n        token.targetPool?.dApp === DApp.PANCAKE\n          ? ''\n          : token.targetPool?.dApp + ' | '\n      }${token.targetPool?.quoteSymbol})${\n        _.round(token.variationPrice as number, 2) <=\n        -VARIATION_PERCENT_HIGHLIGHT\n          ? '  ' +\n            tokenHelper.convertToInternationalCurrencySystem(\n              Math.abs(token.variationLiquidity as number)\n            )\n          : ''\n      }`;\n}\n","import _ from 'lodash';\nimport tokenHelper from '../helper/tokenHelper';\nimport { DApp, ITokenDetail } from '../model/tokenModel';\nimport { IBrowserNotification } from '../model/notificationModel';\n\nexport function mappingVariationBrowserNotification(\n  tokens: ITokenDetail[]\n): IBrowserNotification[] {\n  let notifications: IBrowserNotification[] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    if (token.variationNotification?.isPush) {\n      const notification: IBrowserNotification = {\n        address: token.address,\n        title: buildTitleNotification(token),\n        icon: token.logoURI,\n        body: buildBodyNotification(token),\n      };\n\n      notifications.push(notification);\n    }\n  });\n\n  return notifications;\n}\n\nfunction buildTitleNotification(token: ITokenDetail): string {\n  return `${\n    _.isNil(token.burn)\n      ? token.symbol || token.name\n      : '*[' +\n        tokenHelper.buildBurnPercent(token.burn) +\n        '] ' +\n        (token.symbol || token.name)\n  } ${_.round(token.variationPrice as number, 2)}%  ${_.round(\n    token.divisionPrice as number,\n    1\n  )}`;\n}\n\nfunction buildBodyNotification(token: ITokenDetail): string {\n  return `Price: $${tokenHelper.roundCurrency(\n    token.price as number\n  )}\\nLP: ${tokenHelper.convertToInternationalCurrencySystem(\n    token.targetPool?.liquidity as number\n  )} (${\n    token.targetPool?.dApp === DApp.PANCAKE\n      ? ''\n      : token.targetPool?.dApp + ' | '\n  }${\n    token.targetPool?.quoteSymbol\n  })  ${tokenHelper.convertToInternationalCurrencySystem(\n    Math.abs(token.variationLiquidity as number)\n  )}`;\n}\n\nexport function mappingVariationBrowserNotificationFomo(\n  tokens: ITokenDetail[]\n): IBrowserNotification[] {\n  let notifications: IBrowserNotification[] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    if (token.variationNotificationFomo?.isPush) {\n      const notification: IBrowserNotification = {\n        address: token.address,\n        title: `${\n          _.isNil(token.burn)\n            ? token.symbol || token.name\n            : '*[' +\n              tokenHelper.buildBurnPercent(token.burn) +\n              '] ' +\n              (token.symbol || token.name)\n        } +${_.round(token.variationPrice as number, 2)}%`,\n        icon: token.logoURI,\n        body: `$${tokenHelper.roundCurrency(\n          token.price as number\n        )} | ${tokenHelper.convertToInternationalCurrencySystem(\n          token.targetPool?.liquidity as number\n        )} (${token.targetPool?.dApp} | ${token.targetPool?.quoteSymbol})`,\n      };\n\n      notifications.push(notification);\n    }\n  });\n\n  return notifications;\n}\n","import { PureComponent, ReactElement, Fragment } from 'react';\nimport copy from 'copy-to-clipboard';\nimport logoBep20 from '../../../asset/logo/bep20.png';\nimport style from './CoinTitle.module.scss';\n\ninterface IStoreProps {}\ninterface IHOCProps {}\ninterface IOwnProps {\n  coinTitle: string;\n  address: string;\n  logoURI?: string;\n  web?: string;\n}\ninterface IOwnState {\n  isCopied: boolean;\n}\n\nclass CoinTitle extends PureComponent<\n  IOwnProps & IHOCProps & IStoreProps,\n  IOwnState\n> {\n  state: IOwnState;\n\n  constructor(props: IOwnProps & IHOCProps & IStoreProps) {\n    super(props);\n\n    this.state = {\n      isCopied: false,\n    };\n\n    this.onClickCopyClipboard = this.onClickCopyClipboard.bind(this);\n  }\n\n  private onClickCopyClipboard(address: string) {\n    copy(address);\n\n    this.setState({ isCopied: true });\n\n    setTimeout(() => {\n      this.setState({ isCopied: false });\n    }, 2000);\n  }\n\n  render(): ReactElement {\n    const { coinTitle, address, logoURI, web } = this.props;\n    const { isCopied } = this.state;\n\n    return (\n      <Fragment>\n        <img\n          className={style.logo}\n          alt={coinTitle}\n          src={logoURI || logoBep20}\n          title={address}\n        />\n        <a\n          className={style.title}\n          href={`https://poocoin.app/tokens/${address}`}\n          target='_blank'\n          rel='noopener noreferrer'\n          title={'Link to poocoin'}\n        >\n          {coinTitle}\n        </a>\n        {isCopied ? (\n          <button className={`${style.button} ${style.check}`} title='Copied!'>\n            <i className='bi bi-check2'></i>\n          </button>\n        ) : (\n          <button\n            className={style.button}\n            title='Copy contract to clipboard'\n            onClick={() => this.onClickCopyClipboard(address)}\n          >\n            <i className='bi bi-clipboard'></i>\n          </button>\n        )}\n        <a\n          href={`https://tokensniffer.com/token/${address}`}\n          target='_blank'\n          rel='noopener noreferrer'\n          title={'Check tokensniffer'}\n        >\n          <button className={style.button}>\n            <i className='bi bi-lightning-charge'></i>\n          </button>\n        </a>\n        {!!web ? (\n          <a\n            href={web}\n            target='_blank'\n            rel='noopener noreferrer'\n            title={'Check coinmarketcap'}\n          >\n            <button className={style.button}>\n              <i className='bi bi-info-lg'></i>\n            </button>\n          </a>\n        ) : (\n          ''\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default CoinTitle;\n","import { PureComponent, ReactElement } from 'react';\nimport _ from 'lodash';\nimport { VARIATION_PERCENT_HIGHLIGHT } from '../../../config/appConfig';\nimport style from './Variation.module.scss';\n\ninterface IStoreProps {}\ninterface IHOCProps {}\ninterface IOwnProps {\n  variation: number;\n  division: number;\n}\ninterface IOwnState {}\n\nclass Variation extends PureComponent<\n  IOwnProps & IHOCProps & IStoreProps,\n  IOwnState\n> {\n  constructor(props: IOwnProps & IHOCProps & IStoreProps) {\n    super(props);\n\n    this.getStyle = this.getStyle.bind(this);\n    this.getVariationText = this.getVariationText.bind(this);\n  }\n\n  private getStyle(): string {\n    if (_.isNil(this.props.variation)) return style.normal;\n\n    const variation = _.round(this.props.variation, 2);\n\n    if (\n      variation > -VARIATION_PERCENT_HIGHLIGHT &&\n      variation < VARIATION_PERCENT_HIGHLIGHT\n    ) {\n      return style.normal;\n    } else if (variation >= VARIATION_PERCENT_HIGHLIGHT) {\n      return style.manyUp;\n    } else {\n      return style.manyDown;\n    }\n  }\n\n  private getVariationText(): string {\n    if (_.isNil(this.props.variation)) return 'NA';\n\n    const variation = _.round(this.props.variation, 2);\n    const division = _.round(this.props.division, 1);\n    let variationText: string;\n\n    if (variation === 0) {\n      variationText = variation + '%';\n    } else if (variation > 0) {\n      variationText = '+' + variation + '%';\n    } else {\n      variationText =\n        variation +\n        '%' +\n        (variation <= -VARIATION_PERCENT_HIGHLIGHT ? `  ${division}` : '');\n    }\n\n    return variationText;\n  }\n\n  render(): ReactElement {\n    return (\n      <span className={style.wrap + ' ' + this.getStyle()}>\n        {this.getVariationText()}\n      </span>\n    );\n  }\n}\n\nexport default Variation;\n","import style from './Price.module.scss';\n\nexport default function Price(props: { price: string }) {\n  return <span className={style.wrap}>{props.price}</span>;\n}\n","import style from './Pool.module.scss';\n\nexport default function Pool(props: { pool: string }) {\n  return <span className={style.wrap}>{props.pool}</span>;\n}\n","import { PureComponent, ReactElement, ChangeEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'reactstrap';\nimport DataTable, { createTheme } from 'react-data-table-component';\nimport { CHUNK_DATA_DELAY } from '../../config/appConfig';\nimport { IStoreState } from '../../store/config/store';\nimport { getTokenInfos } from '../../service/tokenInfoService';\nimport { getPools } from '../../service/tokenPoolService';\nimport { updateTokenPrice } from '../../service/tokenPriceService';\nimport { checkBrowserNotification } from '../../service/notificationService';\nimport { notifyVariationPrice } from '../../service/notificationService';\nimport {\n  mappingTokenTable,\n  sortTopMoverTokens,\n} from '../../service/tokenMappingService';\nimport {\n  mappingVariationBrowserNotification,\n  // mappingVariationBrowserNotificationFomo,\n} from '../../service/notificationMappingService';\nimport { ITokenTable } from '../../model/tokenModel';\nimport { IBrowserNotification } from '../../model/notificationModel';\nimport CoinTitle from './CoinTitle/CoinTitle';\nimport Variation from './Variation/Variation';\nimport Price from './Price/Price';\nimport Pool from './Pool/Pool';\n// import style from './TokenTable.module.scss';\n\ninterface IStoreProps {\n  tokens: ITokenTable[];\n  tokenNotifications: IBrowserNotification[];\n  // tokenNotificationsFomo: IBrowserNotification[];\n}\ninterface IHOCProps {}\ninterface IOwnProps {}\ninterface IOwnState {\n  filterText: string;\n}\n\nclass TokenTable extends PureComponent<\n  IOwnProps & IHOCProps & IStoreProps,\n  IOwnState\n> {\n  state: IOwnState;\n\n  private columnConfigs = [\n    {\n      name: 'Coin',\n      cell: (row: ITokenTable): ReactElement => {\n        return (\n          <CoinTitle\n            coinTitle={row.coinTitle}\n            address={row.address}\n            logoURI={row.logoURI}\n            web={row.web}\n          />\n        );\n      },\n      minWidth: '350px',\n    },\n    {\n      name: 'Variation',\n      cell: (row: ITokenTable): ReactElement => {\n        return <Variation variation={row.variation} division={row.division} />;\n      },\n      minWidth: '80px',\n    },\n    {\n      name: 'Price',\n      cell: (row: ITokenTable): ReactElement => {\n        return <Price price={row.price} />;\n      },\n      minWidth: '100px',\n    },\n    {\n      name: 'Pool',\n      // selector: (row: ITokenTable): string => row.pool,\n      cell: (row: ITokenTable): ReactElement => {\n        return <Pool pool={row.pool} />;\n      },\n      minWidth: '120px',\n    },\n  ];\n\n  constructor(props: IOwnProps & IHOCProps & IStoreProps) {\n    super(props);\n\n    this.state = {\n      filterText: '',\n    };\n\n    createTheme('dark', {\n      background: {\n        default: 'transparent',\n      },\n    });\n\n    this.onChangeFilter = this.onChangeFilter.bind(this);\n  }\n\n  async componentDidMount() {\n    await getTokenInfos();\n    await getPools();\n\n    this.recursionUpdateTokenPrice();\n\n    checkBrowserNotification();\n  }\n\n  componentDidUpdate(prevProps: IStoreProps) {\n    if (\n      JSON.stringify(this.props.tokenNotifications) !==\n      JSON.stringify(prevProps.tokenNotifications)\n    ) {\n      notifyVariationPrice(this.props.tokenNotifications);\n    }\n\n    // if (\n    //   JSON.stringify(this.props.tokenNotificationsFomo) !==\n    //   JSON.stringify(prevProps.tokenNotificationsFomo)\n    // ) {\n    //   notifyVariationPrice(this.props.tokenNotificationsFomo);\n    // }\n  }\n\n  private async recursionUpdateTokenPrice() {\n    await updateTokenPrice();\n    await new Promise((r) => setTimeout(r, CHUNK_DATA_DELAY));\n    await this.recursionUpdateTokenPrice();\n  }\n\n  private onChangeFilter(e: ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      filterText: e.target.value,\n    });\n  }\n\n  private filterTokens(tokens: ITokenTable[]): ITokenTable[] {\n    const { filterText } = this.state;\n\n    if (!filterText) {\n      const topMoverTokens: ITokenTable[] = sortTopMoverTokens(tokens);\n\n      return topMoverTokens;\n    }\n\n    const filteredTokens: ITokenTable[] = tokens.filter(\n      (token: ITokenTable): boolean => {\n        return (\n          token.coinTitle.toLowerCase().includes(filterText.toLowerCase()) ||\n          token.address.toLowerCase() === filterText.toLowerCase()\n        );\n      }\n    );\n\n    return filteredTokens;\n  }\n\n  render(): ReactElement {\n    return (\n      <Row>\n        <Col\n          lg={{\n            offset: 1,\n            size: 10,\n          }}\n        >\n          <div className='fk-container px-2 px-lg-4 px-xl-5 pt-2 pt-lg-4 pt-xl-5 pb-xl-4'>\n            <input\n              placeholder='Enter token name / address...'\n              className={'mb-1 fk-input fk-input-lg'}\n              onChange={this.onChangeFilter}\n            />\n            <DataTable\n              columns={this.columnConfigs}\n              data={this.filterTokens(this.props.tokens)}\n              pagination\n              responsive\n              theme={'dark'}\n              customStyles={{\n                headCells: {\n                  style: {\n                    fontWeight: 'bold',\n                  },\n                },\n              }}\n            />\n          </div>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nconst mapState = (state: IStoreState): IStoreProps => ({\n  tokens: mappingTokenTable(state.tokens),\n  tokenNotifications: mappingVariationBrowserNotification(state.tokens),\n  // tokenNotificationsFomo: mappingVariationBrowserNotificationFomo(state.tokens),\n});\n\nexport default connect(mapState)(TokenTable);\n"],"sourceRoot":""}