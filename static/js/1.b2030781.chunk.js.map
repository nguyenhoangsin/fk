{"version":3,"sources":["helper/tokenHelper.ts","model/tokenModel.ts","asset/logo/bep20.png","config/abiBep20Config.ts","config/abiBep20ProxyConfig.ts","service/web3Service.ts","helper/browserHelper.ts","view/controls/InputText/InputText.tsx","service/loadingService.ts","service/tokenInfoService.ts","service/tokenPoolService.ts","service/tokenPriceService.ts","view/controls/InputText/InputText.module.scss"],"names":["helper","computedLiquidity","reserve","reserveQuote","Number","utils","formatEther","computedTokenReservePricePerQuote","tokenDecimals","reserveToken","formatUnits","reservePrice","convertToInternationalCurrencySystem","currency","abs","Math","_","round","toString","convertBalanceToInternationalCurrencySystem","roundCurrency","roundedCurrency","decimal","max","floor","length","buildBurnPercent","burn","isNil","getShortAddress","adress","start","end","toLowerCase","shortAddress","slice","DApp","ABI_BEP20","anonymous","inputs","indexed","internalType","name","type","constant","outputs","payable","stateMutability","ABI_BEP20_PROXY","bscProvider","providers","JsonRpcProvider","BSC_NODE","bep20ProxyContract","Contract","BEP20_PROXY","getBep20ProxyContractSigner","wallet","proxy","signer","connect","getBep20Contract","address","getBep20ContractSigner","iOS","includes","navigator","platform","userAgent","document","InputText","props","state","onChange","bind","onClear","e","this","target","value","inputMode","className","isShowClear","placeholder","style","btnIcon","browserHelper","btnIconIOS","onClick","PureComponent","defaultProps","loadingService","showLoading","getState","loading","isLoading","dispatch","loadingCreater","hideLoading","getOutputTokenInfo","tokens","infos","isRequestError","getChunkTokenInfos","toLocaleLowerCase","toast","error","autoClose","console","log","map","token","index","symbol","decimals","tokenAction","getTokenInfo","getTokenInfos","tokenAddress","chunkAddress","chunk","CHUNK_DATA_NUMBER","chunkSymbolPromises","chunkDecimalPromises","each","push","getSymbols","getDecimals","Promise","all","chunkDatas","flatten","size","getPools","getTokenPool","newTokens","getPool","getTokenPoolReserve","busdAdressPairs","usdtAdressPairs","usdcAdressPairs","bnbAdressPairs","forEach","BUSD_BEP20","USDT_BEP20","USDC_BEP20","BNB_BEP20","adressPairs","poolAddressReserve","getChunkPools","mapTokenPoolFromReserve","bnbReservePrice","tokenHelper","last","quoteTokenAction","updateBnb","bnb","price","categorizePool","mappingCategorizePool","pancakePoolAddress","mappingPoolAddressReserve","PANCAKE","pancake","apePoolAddress","APE","ape","targetPool","maxBy","pools","chunkPoolAddressPancakePromises","chunkPoolAddressApePromises","chunkPoolReservePancakePromises","chunkPoolReserveApePromises","getPoolAddress","PANCAKE_FACTORY","APE_FACTORY","getReversesMulti","chunkLength","chunkNumber","chunkAddressPancake","chunkAddressApe","chunkReservePancake","chunkReserveApe","busd","usdt","usdc","dApp","categorizeAddressReserve","tokenIndex","quoteSymbol","quoteAddress","liquidity","filter","pool","INVALID_ADDRESS","updateTokenPrice","getTokenPrice","pancakeAdressPairs","apeAdressPairs","poolReserve","updateChunkTokenPrice","toastUpdateTokenPriceError","tokenReserve","mappingTokeReserve","newReserve","isQuotePancake","chunkPancakeAddress","chunkApeAddress","addressPairs","timer","hideProgressBar","Date","module","exports"],"mappings":"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","file":"static/js/1.b2030781.chunk.js","sourcesContent":["import _ from 'lodash';\nimport { utils, BigNumber } from 'ethers';\n\nfunction computedLiquidity(reserve: [BigNumber, BigNumber]): number {\n  const reserveQuote = Number(utils.formatEther(reserve[0]));\n\n  if (!reserveQuote) return 0;\n\n  return reserveQuote;\n}\n\nfunction computedTokenReservePricePerQuote(\n  reserve: [BigNumber, BigNumber],\n  tokenDecimals: number = 18\n): number {\n  const reserveQuote = Number(utils.formatEther(reserve[0]));\n  const reserveToken = Number(utils.formatUnits(reserve[1], tokenDecimals));\n\n  if (!reserveQuote || !reserveToken) return 0;\n\n  const reservePrice: number = reserveQuote / reserveToken;\n\n  return reservePrice;\n}\n\nfunction convertToInternationalCurrencySystem(currency: number): string {\n  const abs: number = Math.abs(Number(currency));\n  const currencySystem: string =\n    // Nine Zeroes for Billions\n    abs >= 1.0e9\n      ? _.round(abs / 1.0e9, 3) + 'B'\n      : // Six Zeroes for Millions\n      abs >= 1.0e6\n      ? _.round(abs / 1.0e6, 2) + 'M'\n      : // Three Zeroes for Thousands\n      abs >= 1.0e3\n      ? _.round(abs / 1.0e3, 1) + 'K'\n      : _.round(abs).toString();\n\n  return currencySystem;\n}\n\nfunction convertBalanceToInternationalCurrencySystem(currency: number): string {\n  const abs: number = Math.abs(Number(currency));\n  const currencySystem: string =\n    // Nine Zeroes for Billions\n    abs >= 1.0e9\n      ? _.round(abs / 1.0e9, 2) + 'B'\n      : // Six Zeroes for Millions\n      abs >= 1.0e6\n      ? _.round(abs / 1.0e6, 2) + 'M'\n      : // Five Zeroes for Thousands\n      abs >= 1.0e5\n      ? _.round(abs / 1.0e3) + 'K'\n      : abs >= 1.0e3\n      ? _.round(abs, 2).toString()\n      : abs >= 1.0e1\n      ? _.round(abs, 3).toString()\n      : _.round(abs, 6).toString();\n\n  return currencySystem;\n}\n\nfunction roundCurrency(currency: number): string {\n  const abs: number = Math.abs(Number(currency));\n  let roundedCurrency;\n\n  if (abs >= 1) {\n    const decimal: number = Math.max(5 - Math.floor(abs).toString().length, 2);\n\n    roundedCurrency = _.round(abs, decimal);\n  } else {\n    const decimal: number = Math.floor(1 / (abs % 1)).toString().length + 4;\n\n    roundedCurrency = _.round(abs, decimal);\n  }\n\n  return roundedCurrency.toString();\n}\n\nfunction buildBurnPercent(burn?: number): string {\n  if (_.isNil(burn)) {\n    return '';\n  }\n\n  if (burn === -1) {\n    return '?';\n  }\n\n  return burn + '%';\n}\n\nfunction getShortAddress(\n  adress: string = '',\n  start: number = 2,\n  end: number = 3\n): string {\n  if (adress.length <= start + end + 2) {\n    return adress.toLowerCase();\n  }\n\n  const shortAddress =\n    adress.slice(0, start) +\n    '..' +\n    adress.slice(adress.length - end, adress.length);\n\n  return shortAddress.toLowerCase();\n}\n\nconst helper = {\n  computedLiquidity,\n  computedTokenReservePricePerQuote,\n  convertToInternationalCurrencySystem,\n  convertBalanceToInternationalCurrencySystem,\n  roundCurrency,\n  buildBurnPercent,\n  getShortAddress,\n};\n\nexport default helper;\n","export enum DApp {\n  PANCAKE = 'PANCAKE',\n  APE = 'APE',\n}\n\nexport interface ITokenBase {\n  name: string;\n  symbol?: string;\n  address: string;\n  decimals?: number;\n  logoURI?: string;\n  burn?: number;\n  web?: string;\n}\n\nexport interface TimelinePrice {\n  price: number;\n  liquidity?: number;\n  timestamp: number;\n}\n\nexport interface CachePrice {\n  price: number;\n  liquidity?: number;\n  timelinePrices: TimelinePrice[];\n}\n\nexport interface IPool {\n  dApp?: DApp;\n  address: string;\n  quoteSymbol: string;\n  quoteAddress: string;\n  liquidity?: number;\n  reservePrice?: number;\n  reserve?: [string, string];\n}\n\nexport interface IVariationNotification {\n  cacheVariation?: number;\n  isPush: boolean;\n  hasOncePush: boolean;\n  timestamp: number;\n}\n\nexport interface ITokenDetail extends ITokenBase, ITokenPrice {\n  targetPool?: IPool;\n  pools?: IPool[];\n  variationNotification?: IVariationNotification;\n  variationNotificationFomo?: IVariationNotification;\n}\n\nexport interface ITokenTable {\n  coinTitle: string;\n  pool: string;\n  price: string;\n  variation: number;\n  division: number;\n  address: string;\n  logoURI?: string;\n  web?: string;\n}\n\ninterface ITokenPrice {\n  price?: number;\n  oldPrice?: number;\n  variationPrice?: number;\n  divisionPrice?: number;\n  variationLiquidity?: number;\n  cachePrice?: CachePrice;\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAIAAAAnApehAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMTItMDFUMjI6NTc6NTYrMDc6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTEyLTAxVDIyOjU5OjM4KzA3OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTEyLTAxVDIyOjU5OjM4KzA3OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjczNGJiNTE4LWRiNTYt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\"","export const ABI_BEP20 = [\n  // Swap (event)\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'sender',\n        type: 'address',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount0In',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount1In',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount0Out',\n        type: 'uint256',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'amount1Out',\n        type: 'uint256',\n      },\n      { indexed: true, internalType: 'address', name: 'to', type: 'address' },\n    ],\n    name: 'Swap',\n    type: 'event',\n  },\n  // token0\n  {\n    constant: true,\n    inputs: [],\n    name: 'token0',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  // token1\n  {\n    constant: true,\n    inputs: [],\n    name: 'token1',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  // getPair\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    name: 'getPair',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  // getReserves\n  {\n    constant: true,\n    inputs: [],\n    name: 'getReserves',\n    outputs: [\n      {\n        internalType: 'uint112',\n        name: '_reserve0',\n        type: 'uint112',\n      },\n      {\n        internalType: 'uint112',\n        name: '_reserve1',\n        type: 'uint112',\n      },\n      {\n        internalType: 'uint32',\n        name: '_blockTimestampLast',\n        type: 'uint32',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  // balanceOf\n  {\n    constant: true,\n    inputs: [{ internalType: 'address', name: 'account', type: 'address' }],\n    name: 'balanceOf',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  // allowance\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'owner', // my address\n        type: 'address',\n      },\n      {\n        internalType: 'address',\n        name: 'spender', // proxy\n        type: 'address',\n      },\n    ],\n    name: 'allowance',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  // approve\n  {\n    constant: false,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'spender', // proxy\n        type: 'address',\n      },\n      {\n        internalType: 'uint256',\n        name: 'value',\n        type: 'uint256',\n      },\n    ],\n    name: 'approve',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool',\n      },\n    ],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n","export const ABI_BEP20_PROXY = [\n  // getSymbols\n  {\n    inputs: [\n      {\n        internalType: 'address[]',\n        name: 'tokens',\n        type: 'address[]',\n      },\n    ],\n    name: 'getSymbols',\n    outputs: [\n      {\n        internalType: 'string[]',\n        name: 'symbols',\n        type: 'string[]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  // getDecimals\n  {\n    inputs: [\n      {\n        internalType: 'address[]',\n        name: 'tokens',\n        type: 'address[]',\n      },\n    ],\n    name: 'getDecimals',\n    outputs: [\n      {\n        internalType: 'uint8[]',\n        name: 'decimals',\n        type: 'uint8[]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  // getPoolAddress\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'address[2][]',\n        name: 'pairs',\n        type: 'address[2][]',\n      },\n    ],\n    name: 'getPoolAddress',\n    outputs: [\n      {\n        internalType: 'address[]',\n        name: 'poolAddress',\n        type: 'address[]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  // getReversesMulti\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'address[2][]',\n        name: 'pairs',\n        type: 'address[2][]',\n      },\n    ],\n    name: 'getReversesMulti',\n    outputs: [\n      {\n        internalType: 'uint112[2][]',\n        name: 'reserves',\n        type: 'uint112[2][]',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n    constant: true,\n  },\n  // swapExactTokensForTokens\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory', // factory AMM\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'hashCode', // hashCode AMM\n        type: 'bytes32',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountIn', // value x10^decimal\n        type: 'uint256',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountOutMin', // include slip, tax\n        type: 'uint256',\n      },\n      {\n        internalType: 'address[]',\n        name: 'path',\n        type: 'address[]',\n      },\n      {\n        internalType: 'address',\n        name: 'to', // wallet address\n        type: 'address',\n      },\n    ],\n    name: 'swapExactTokensForTokens',\n    outputs: [\n      {\n        internalType: 'uint256[]',\n        name: 'amounts',\n        type: 'uint256[]',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  // swapExactTokensForTokensSupportingFeeOnTransferTokens\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'hashCode',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountIn',\n        type: 'uint256',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountOutMin',\n        type: 'uint256',\n      },\n      {\n        internalType: 'address[]',\n        name: 'path',\n        type: 'address[]',\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address',\n      },\n    ],\n    name: 'swapExactTokensForTokensSupportingFeeOnTransferTokens',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  // swapExactBNBForTokens\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'hashCode',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountOutMin',\n        type: 'uint256',\n      },\n      {\n        internalType: 'address[]',\n        name: 'path',\n        type: 'address[]',\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address',\n      },\n    ],\n    name: 'swapExactBNBForTokens',\n    outputs: [\n      {\n        internalType: 'uint256[]',\n        name: 'amounts',\n        type: 'uint256[]',\n      },\n    ],\n    stateMutability: 'payable',\n    type: 'function',\n    payable: true,\n  },\n  // swapExactBNBForTokensSupportingFeeOnTransferTokens\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'hashCode',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountOutMin',\n        type: 'uint256',\n      },\n      {\n        internalType: 'address[]',\n        name: 'path',\n        type: 'address[]',\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address',\n      },\n    ],\n    name: 'swapExactBNBForTokensSupportingFeeOnTransferTokens',\n    outputs: [],\n    stateMutability: 'payable',\n    type: 'function',\n    payable: true,\n  },\n  // swapExactTokensForBNB\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'hashCode',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountIn',\n        type: 'uint256',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountOutMin',\n        type: 'uint256',\n      },\n      {\n        internalType: 'address[]',\n        name: 'path',\n        type: 'address[]',\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address',\n      },\n    ],\n    name: 'swapExactTokensForBNB',\n    outputs: [\n      {\n        internalType: 'uint256[]',\n        name: 'amounts',\n        type: 'uint256[]',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  // swapExactTokensForBNBSupportingFeeOnTransferTokens\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'factory',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'hashCode',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountIn',\n        type: 'uint256',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amountOutMin',\n        type: 'uint256',\n      },\n      {\n        internalType: 'address[]',\n        name: 'path',\n        type: 'address[]',\n      },\n      {\n        internalType: 'address',\n        name: 'to',\n        type: 'address',\n      },\n    ],\n    name: 'swapExactTokensForBNBSupportingFeeOnTransferTokens',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n","import { providers, Contract, Wallet, Signer } from 'ethers';\nimport { ABI_BEP20 } from '../config/abiBep20Config';\nimport { ABI_BEP20_PROXY } from '../config/abiBep20ProxyConfig';\nimport { BSC_NODE, BEP20_PROXY } from '../config/web3Config';\n\nexport const bscProvider = new providers.JsonRpcProvider(BSC_NODE);\n\nexport const bep20ProxyContract: Contract = new Contract(\n  BEP20_PROXY,\n  ABI_BEP20_PROXY,\n  bscProvider\n);\n\nexport function getBep20ProxyContractSigner(\n  wallet: Wallet,\n  proxy: string = BEP20_PROXY\n): Contract {\n  const signer: Signer = wallet.connect(bscProvider);\n\n  return new Contract(proxy, ABI_BEP20_PROXY, signer);\n}\n\nexport function getBep20Contract(address: string): Contract {\n  return new Contract(address, ABI_BEP20, bscProvider);\n}\n\nexport function getBep20ContractSigner(\n  address: string,\n  wallet: Wallet\n): Contract {\n  const signer: Signer = wallet.connect(bscProvider);\n\n  return new Contract(address, ABI_BEP20, signer);\n}\n","function iOS(): boolean {\n  return (\n    [\n      'iPad Simulator',\n      'iPhone Simulator',\n      'iPod Simulator',\n      'iPad',\n      'iPhone',\n      'iPod',\n    ].includes(navigator.platform) ||\n    // iPad on iOS 13 detection\n    (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n  );\n}\n\nconst helper = {\n  iOS,\n};\n\nexport default helper;\n","import { PureComponent, ReactElement, ChangeEvent } from 'react';\nimport browserHelper from '../../../helper/browserHelper';\nimport style from './InputText.module.scss';\n\ninterface IStoreProps {}\ninterface IHOCProps {}\ninterface IOwnProps {\n  inputMode:\n    | 'text'\n    | 'search'\n    | 'none'\n    | 'tel'\n    | 'url'\n    | 'email'\n    | 'numeric'\n    | 'decimal';\n  type: 'text' | 'password';\n  className: string;\n  isShowClear: boolean;\n  placeholder: string;\n  value: string;\n  onChange: (v: string) => void;\n}\ninterface IOwnState {}\n\nclass InputText extends PureComponent<\n  IStoreProps & IHOCProps & IOwnProps,\n  IOwnState\n> {\n  static defaultProps = {\n    inputMode: 'text',\n    type: 'text',\n    className: '',\n    isShowClear: false,\n    placeholder: '',\n    value: '',\n    onChange: () => {},\n  };\n\n  state: IOwnState;\n\n  constructor(props: IOwnProps & IHOCProps & IStoreProps) {\n    super(props);\n\n    this.state = {};\n\n    this.onChange = this.onChange.bind(this);\n    this.onClear = this.onClear.bind(this);\n  }\n\n  onChange(e: ChangeEvent<HTMLInputElement>) {\n    this.props.onChange(e.target.value);\n  }\n\n  onClear() {\n    this.props.onChange('');\n  }\n\n  render(): ReactElement {\n    const { inputMode, type, className, isShowClear, placeholder, value } =\n      this.props;\n\n    return (\n      <div className='position-relative'>\n        <input\n          inputMode={inputMode}\n          type={type}\n          className={'fk-input' + (className ? ` ${className}` : '')}\n          placeholder={placeholder}\n          value={value}\n          onChange={this.onChange}\n        />\n        {isShowClear && !!value && (\n          <button\n            className={\n              'fk-button-icon ' +\n              style.btnIcon +\n              (browserHelper.iOS() ? ` ${style.btnIconIOS}` : '')\n            }\n            onClick={this.onClear}\n          >\n            <i className='bi bi-x-lg'></i>\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default InputText;\n","import { dispatch, getState } from '../store/config/store';\nimport loadingCreater from '../store/loadingActionCreater';\n\nexport const showLoading = () => {\n  if (getState().loading?.isLoading) {\n    return;\n  }\n\n  dispatch(loadingCreater.showLoading());\n};\n\nexport const hideLoading = () => {\n  if (!getState().loading?.isLoading) {\n    return;\n  }\n\n  dispatch(loadingCreater.hideLoading());\n};\n\nconst loadingService = { showLoading, hideLoading };\n\nexport default loadingService;\n","import _ from 'lodash';\nimport { toast } from 'react-toastify';\nimport { CHUNK_DATA_NUMBER } from '../config/appConfig';\nimport { bep20ProxyContract } from './web3Service';\nimport { getState, dispatch } from '../store/config/store';\nimport tokenAction from '../store/tokenActionCreater';\nimport { ITokenDetail } from '../model/tokenModel';\n\nexport async function getOutputTokenInfo(address: string) {\n  let tokens: ITokenDetail[] = getState().tokens;\n  let infos: [string[], number[]] = [[], []];\n  let isRequestError = false;\n\n  try {\n    infos = await getChunkTokenInfos([address.toLocaleLowerCase()]);\n  } catch (error) {\n    isRequestError = true;\n    toast.error('Get pair swap token info failure!', { autoClose: 500 });\n    console.log(error);\n  }\n\n  if (isRequestError) {\n    return;\n  }\n\n  tokens = tokens.map(\n    (token: ITokenDetail, index: number): ITokenDetail => {\n      if (token.address.toLocaleLowerCase() !== address.toLocaleLowerCase()) return token;\n\n      return ({\n        ...token,\n        symbol: infos[0][0],\n        decimals: infos[1][0],\n      })\n    }\n  );\n\n  dispatch(tokenAction.getTokenInfo(tokens));\n}\n\nexport async function getTokenInfos() {\n  let tokens: ITokenDetail[] = getState().tokens;\n  const tokenAddress: string[] = tokens.map(\n    (token: ITokenDetail) => token.address\n  );\n\n  let infos: [string[], number[]] = [[], []];\n  let isRequestError = false;\n\n  try {\n    infos = await getChunkTokenInfos(tokenAddress);\n  } catch (error) {\n    isRequestError = true;\n    toast.error('Get token info failure!', { autoClose: 500 });\n    console.log(error);\n  }\n\n  if (isRequestError) {\n    return;\n  }\n\n  tokens = tokens.map(\n    (token: ITokenDetail, index: number): ITokenDetail => ({\n      ...token,\n      symbol: infos[0][index],\n      decimals: infos[1][index],\n    })\n  );\n\n  dispatch(tokenAction.getTokenInfo(tokens));\n}\n\nasync function getChunkTokenInfos(\n  tokenAddress: string[]\n): Promise<[string[], number[]]> {\n  const chunkAddress: string[][] = _.chunk(tokenAddress, CHUNK_DATA_NUMBER);\n  let chunkSymbolPromises: Promise<any>[] = [];\n  let chunkDecimalPromises: Promise<any>[] = [];\n\n  _.each(chunkAddress, (address: string[]) => {\n    chunkSymbolPromises.push(bep20ProxyContract.getSymbols(address));\n    chunkDecimalPromises.push(bep20ProxyContract.getDecimals(address));\n  });\n\n  const chunkDatas = await Promise.all([\n    ...chunkSymbolPromises,\n    ...chunkDecimalPromises,\n  ]);\n  const infos: [string[], number[]] = [\n    _.flatten(_.slice(chunkDatas, 0, _.size(chunkDatas) / 2) as string[][]),\n    _.flatten(_.slice(chunkDatas, _.size(chunkDatas) / 2) as number[][]),\n  ];\n\n  return infos;\n}\n","import _ from 'lodash';\nimport { utils, BigNumber } from 'ethers';\nimport { toast } from 'react-toastify';\nimport { CHUNK_DATA_NUMBER } from '../config/appConfig';\nimport {\n  BUSD_BEP20,\n  USDT_BEP20,\n  USDC_BEP20,\n  BNB_BEP20,\n} from '../config/tokenBep20Config';\nimport {\n  PANCAKE_FACTORY,\n  APE_FACTORY,\n  INVALID_ADDRESS,\n} from '../config/web3Config';\nimport tokenHelper from '../helper/tokenHelper';\nimport { bep20ProxyContract } from './web3Service';\nimport { dispatch, getState } from '../store/config/store';\nimport quoteTokenAction from '../store/quoteTokenActionCreater';\nimport tokenAction from '../store/tokenActionCreater';\nimport { DApp, IPool, ITokenDetail } from '../model/tokenModel';\n\nexport type TPoolAddressReserve = [\n  string[],\n  string[],\n  [BigNumber, BigNumber][],\n  [BigNumber, BigNumber][]\n];\n\ntype AddressReserve = {\n  address: string[];\n  reserve: [BigNumber, BigNumber][];\n};\n\ntype TCategorizeAddressReserve = {\n  busd: AddressReserve;\n  usdt: AddressReserve;\n  usdc: AddressReserve;\n  bnb: AddressReserve;\n};\n\ntype TCategorizePool = {\n  pancake: TCategorizeAddressReserve;\n  ape: TCategorizeAddressReserve;\n};\n\nexport async function getPools() {\n  const tokens: ITokenDetail[] = getState().tokens;\n  const newTokens: ITokenDetail[] = await getTokenPool(tokens);\n\n  dispatch(tokenAction.getPool(newTokens));\n}\n\nexport async function getTokenPoolReserve(\n  tokens: ITokenDetail[]\n): Promise<TPoolAddressReserve> {\n  if (_.size(tokens) === 0) {\n    return [[], [], [], []];\n  }\n\n  let busdAdressPairs: [string, string][] = [];\n  let usdtAdressPairs: [string, string][] = [];\n  let usdcAdressPairs: [string, string][] = [];\n  let bnbAdressPairs: [string, string][] = [];\n  let adressPairs: [string, string][] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    busdAdressPairs.push([BUSD_BEP20.address, token.address]);\n    usdtAdressPairs.push([USDT_BEP20.address, token.address]);\n    usdcAdressPairs.push([USDC_BEP20.address, token.address]);\n    bnbAdressPairs.push([BNB_BEP20.address, token.address]);\n  });\n\n  adressPairs = [\n    ...busdAdressPairs,\n    ...usdtAdressPairs,\n    ...usdcAdressPairs,\n    ...bnbAdressPairs,\n  ];\n\n  let poolAddressReserve: TPoolAddressReserve = [[], [], [], []];\n  let isRequestError = false;\n\n  try {\n    poolAddressReserve = await getChunkPools(adressPairs);\n  } catch (error) {\n    isRequestError = true;\n    toast.error('Get token pool failure!');\n    console.log(error);\n  }\n\n  if (isRequestError) {\n    return await getTokenPoolReserve(tokens);\n  }\n\n  return poolAddressReserve;\n}\n\nexport function mapTokenPoolFromReserve(\n  tokens: ITokenDetail[],\n  poolAddressReserve: TPoolAddressReserve\n): ITokenDetail[] {\n  if (_.size(tokens) === 0) {\n    return tokens;\n  }\n\n  let newTokens: ITokenDetail[];\n  const bnbReservePrice = tokenHelper.computedTokenReservePricePerQuote(\n    _.last(poolAddressReserve[2]) as [BigNumber, BigNumber]\n  );\n  dispatch(quoteTokenAction.updateBnb({ bnb: { price: bnbReservePrice } }));\n\n  const categorizePool: TCategorizePool = mappingCategorizePool(\n    poolAddressReserve,\n    tokens.length\n  );\n\n  newTokens = tokens.map((token: ITokenDetail, index: number): ITokenDetail => {\n    const pancakePoolAddress: IPool[] = mappingPoolAddressReserve(\n      DApp.PANCAKE,\n      categorizePool.pancake,\n      index,\n      token.decimals as number,\n      bnbReservePrice\n    );\n    const apePoolAddress: IPool[] = mappingPoolAddressReserve(\n      DApp.APE,\n      categorizePool.ape,\n      index,\n      token.decimals as number,\n      bnbReservePrice\n    );\n    const targetPool: IPool = _.maxBy(\n      [...pancakePoolAddress, ...apePoolAddress],\n      'liquidity'\n    ) as IPool;\n\n    return {\n      ...token,\n      price: targetPool.reservePrice,\n      targetPool,\n      pools: [...pancakePoolAddress, ...apePoolAddress],\n    };\n  });\n\n  return newTokens;\n}\n\nexport async function getTokenPool(\n  tokens: ITokenDetail[]\n): Promise<ITokenDetail[]> {\n  if (_.size(tokens) === 0) {\n    return tokens;\n  }\n\n  let newTokens: ITokenDetail[];\n  let busdAdressPairs: [string, string][] = [];\n  let usdtAdressPairs: [string, string][] = [];\n  let usdcAdressPairs: [string, string][] = [];\n  let bnbAdressPairs: [string, string][] = [];\n  let adressPairs: [string, string][] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    busdAdressPairs.push([BUSD_BEP20.address, token.address]);\n    usdtAdressPairs.push([USDT_BEP20.address, token.address]);\n    usdcAdressPairs.push([USDC_BEP20.address, token.address]);\n    bnbAdressPairs.push([BNB_BEP20.address, token.address]);\n  });\n\n  adressPairs = [\n    ...busdAdressPairs,\n    ...usdtAdressPairs,\n    ...usdcAdressPairs,\n    ...bnbAdressPairs,\n  ];\n\n  let poolAddressReserve: TPoolAddressReserve = [[], [], [], []];\n  let isRequestError = false;\n\n  try {\n    poolAddressReserve = await getChunkPools(adressPairs);\n  } catch (error) {\n    isRequestError = true;\n    toast.error('Get token pool failure!');\n    console.log(error);\n  }\n\n  if (isRequestError) {\n    return await getTokenPool(tokens);\n  }\n\n  const bnbReservePrice = tokenHelper.computedTokenReservePricePerQuote(\n    _.last(poolAddressReserve[2]) as [BigNumber, BigNumber]\n  );\n  dispatch(quoteTokenAction.updateBnb({ bnb: { price: bnbReservePrice } }));\n\n  const categorizePool: TCategorizePool = mappingCategorizePool(\n    poolAddressReserve,\n    tokens.length\n  );\n\n  newTokens = tokens.map((token: ITokenDetail, index: number): ITokenDetail => {\n    const pancakePoolAddress: IPool[] = mappingPoolAddressReserve(\n      DApp.PANCAKE,\n      categorizePool.pancake,\n      index,\n      token.decimals as number,\n      bnbReservePrice\n    );\n    const apePoolAddress: IPool[] = mappingPoolAddressReserve(\n      DApp.APE,\n      categorizePool.ape,\n      index,\n      token.decimals as number,\n      bnbReservePrice\n    );\n    const targetPool: IPool = _.maxBy(\n      [...pancakePoolAddress, ...apePoolAddress],\n      'liquidity'\n    ) as IPool;\n\n    return {\n      ...token,\n      price: targetPool.reservePrice,\n      targetPool,\n      pools: [...pancakePoolAddress, ...apePoolAddress],\n    };\n  });\n\n  return newTokens;\n}\n\nasync function getChunkPools(\n  adressPairs: [string, string][]\n): Promise<TPoolAddressReserve> {\n  const chunkAddress: [string, string][][] = _.chunk(\n    adressPairs,\n    CHUNK_DATA_NUMBER\n  );\n  let chunkPoolAddressPancakePromises: Promise<any>[] = [];\n  let chunkPoolAddressApePromises: Promise<any>[] = [];\n  let chunkPoolReservePancakePromises: Promise<any>[] = [];\n  let chunkPoolReserveApePromises: Promise<any>[] = [];\n\n  _.each(chunkAddress, (address: [string, string][]) => {\n    chunkPoolAddressPancakePromises.push(\n      bep20ProxyContract.getPoolAddress(PANCAKE_FACTORY, address)\n    );\n    chunkPoolAddressApePromises.push(\n      bep20ProxyContract.getPoolAddress(APE_FACTORY, address)\n    );\n    chunkPoolReservePancakePromises.push(\n      bep20ProxyContract.getReversesMulti(PANCAKE_FACTORY, address)\n    );\n    chunkPoolReserveApePromises.push(\n      bep20ProxyContract.getReversesMulti(APE_FACTORY, address)\n    );\n  });\n\n  const chunkDatas = await Promise.all([\n    ...chunkPoolAddressPancakePromises,\n    ...chunkPoolAddressApePromises,\n    ...chunkPoolReservePancakePromises,\n    ...chunkPoolReserveApePromises,\n    bep20ProxyContract.getReversesMulti(PANCAKE_FACTORY, [\n      [BUSD_BEP20.address, BNB_BEP20.address],\n    ]),\n  ]);\n  const chunkLength: number = (_.size(chunkDatas) - 1) / 4;\n  const poolAddressReserve: TPoolAddressReserve = [\n    _.flatten(_.slice(chunkDatas, 0, chunkLength) as string[][]),\n    _.flatten(_.slice(chunkDatas, chunkLength, chunkLength * 2) as string[][]),\n    _.flatten([\n      ..._.slice(chunkDatas, chunkLength * 2, chunkLength * 3),\n      _.last(chunkDatas),\n    ] as [BigNumber, BigNumber][][]),\n    _.flatten(\n      _.slice(chunkDatas, chunkLength * 3, chunkLength * 4) as [\n        BigNumber,\n        BigNumber\n      ][][]\n    ),\n  ];\n\n  return poolAddressReserve;\n}\n\nfunction mappingCategorizePool(\n  poolAddressReserve: TPoolAddressReserve,\n  chunkNumber: number\n): TCategorizePool {\n  const chunkAddressPancake = _.chunk(poolAddressReserve[0], chunkNumber);\n  const chunkAddressApe = _.chunk(poolAddressReserve[1], chunkNumber);\n  const chunkReservePancake = _.chunk(poolAddressReserve[2], chunkNumber);\n  const chunkReserveApe = _.chunk(poolAddressReserve[3], chunkNumber);\n\n  const categorizePool: TCategorizePool = {\n    pancake: {\n      busd: {\n        address: chunkAddressPancake[0],\n        reserve: chunkReservePancake[0],\n      },\n      usdt: {\n        address: chunkAddressPancake[1],\n        reserve: chunkReservePancake[1],\n      },\n      usdc: {\n        address: chunkAddressPancake[2],\n        reserve: chunkReservePancake[2],\n      },\n      bnb: {\n        address: chunkAddressPancake[3],\n        reserve: chunkReservePancake[3],\n      },\n    },\n    ape: {\n      busd: {\n        address: chunkAddressApe[0],\n        reserve: chunkReserveApe[0],\n      },\n      usdt: {\n        address: chunkAddressApe[1],\n        reserve: chunkReserveApe[1],\n      },\n      usdc: {\n        address: chunkAddressApe[2],\n        reserve: chunkReserveApe[2],\n      },\n      bnb: {\n        address: chunkAddressApe[3],\n        reserve: chunkReserveApe[3],\n      },\n    },\n  };\n\n  return categorizePool;\n}\n\nfunction mappingPoolAddressReserve(\n  dApp: DApp,\n  categorizeAddressReserve: TCategorizeAddressReserve,\n  tokenIndex: number,\n  tokenDecimals: number,\n  bnbReservePrice: number\n): IPool[] {\n  let pools: IPool[] = [\n    {\n      dApp,\n      address: categorizeAddressReserve.busd.address[tokenIndex].toLowerCase(),\n      quoteSymbol: BUSD_BEP20.symbol as string,\n      quoteAddress: BUSD_BEP20.address,\n      liquidity: tokenHelper.computedLiquidity(\n        categorizeAddressReserve.busd.reserve[tokenIndex]\n      ),\n      reservePrice: tokenHelper.computedTokenReservePricePerQuote(\n        categorizeAddressReserve.busd.reserve[tokenIndex],\n        tokenDecimals\n      ),\n      reserve: [\n        utils.formatEther(categorizeAddressReserve.busd.reserve[tokenIndex][0]),\n        utils.formatUnits(\n          categorizeAddressReserve.busd.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n    {\n      dApp,\n      address: categorizeAddressReserve.usdt.address[tokenIndex].toLowerCase(),\n      quoteSymbol: USDT_BEP20.symbol as string,\n      quoteAddress: USDT_BEP20.address,\n      liquidity: tokenHelper.computedLiquidity(\n        categorizeAddressReserve.usdt.reserve[tokenIndex]\n      ),\n      reservePrice: tokenHelper.computedTokenReservePricePerQuote(\n        categorizeAddressReserve.usdt.reserve[tokenIndex],\n        tokenDecimals\n      ),\n      reserve: [\n        utils.formatEther(categorizeAddressReserve.usdt.reserve[tokenIndex][0]),\n        utils.formatUnits(\n          categorizeAddressReserve.usdt.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n    {\n      dApp,\n      address: categorizeAddressReserve.usdc.address[tokenIndex].toLowerCase(),\n      quoteSymbol: USDC_BEP20.symbol as string,\n      quoteAddress: USDC_BEP20.address,\n      liquidity: tokenHelper.computedLiquidity(\n        categorizeAddressReserve.usdc.reserve[tokenIndex]\n      ),\n      reservePrice: tokenHelper.computedTokenReservePricePerQuote(\n        categorizeAddressReserve.usdc.reserve[tokenIndex],\n        tokenDecimals\n      ),\n      reserve: [\n        utils.formatEther(categorizeAddressReserve.usdc.reserve[tokenIndex][0]),\n        utils.formatUnits(\n          categorizeAddressReserve.usdc.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n    {\n      dApp,\n      address: categorizeAddressReserve.bnb.address[tokenIndex].toLowerCase(),\n      quoteSymbol: BNB_BEP20.symbol as string,\n      quoteAddress: BNB_BEP20.address,\n      liquidity:\n        tokenHelper.computedLiquidity(\n          categorizeAddressReserve.bnb.reserve[tokenIndex]\n        ) * bnbReservePrice,\n      reservePrice:\n        tokenHelper.computedTokenReservePricePerQuote(\n          categorizeAddressReserve.bnb.reserve[tokenIndex],\n          tokenDecimals\n        ) * bnbReservePrice,\n      reserve: [\n        utils.formatEther(categorizeAddressReserve.bnb.reserve[tokenIndex][0]),\n        utils.formatUnits(\n          categorizeAddressReserve.bnb.reserve[tokenIndex][1],\n          tokenDecimals\n        ),\n      ],\n    },\n  ];\n\n  pools = pools.filter(\n    (pool: IPool): boolean => pool.address !== INVALID_ADDRESS\n  );\n\n  return pools;\n}\n","import _ from 'lodash';\nimport { Contract, Event, EventFilter, utils, BigNumber } from 'ethers';\nimport { toast } from 'react-toastify';\nimport { CHUNK_DATA_NUMBER } from '../config/appConfig';\nimport {\n  BUSD_BEP20,\n  USDT_BEP20,\n  USDC_BEP20,\n  BNB_BEP20,\n} from '../config/tokenBep20Config';\nimport {\n  PANCAKE_FACTORY,\n  APE_FACTORY,\n  BNB_BUSD_PANCAKE_POOL,\n} from '../config/web3Config';\nimport tokenHelper from '../helper/tokenHelper';\nimport {\n  bscProvider,\n  bep20ProxyContract,\n  getBep20Contract,\n} from './web3Service';\nimport { dispatch, getState } from '../store/config/store';\nimport quoteTokenAction from '../store/quoteTokenActionCreater';\nimport tokenAction from '../store/tokenActionCreater';\nimport { DApp, IPool, ITokenDetail } from '../model/tokenModel';\n\ntype TTokenReserve = { [key: string]: [BigNumber, BigNumber] };\n\nexport async function updateTokenPrice() {\n  const tokens: ITokenDetail[] = getState().tokens;\n  const newTokens: ITokenDetail[] = await getTokenPrice(tokens);\n\n  dispatch(tokenAction.updateTokenPrice(newTokens));\n}\n\nexport async function getTokenPrice(\n  tokens: ITokenDetail[],\n  dApp?: DApp\n): Promise<ITokenDetail[]> {\n  if (_.size(tokens) === 0) {\n    return tokens;\n  }\n\n  let newTokens: ITokenDetail[];\n  let pancakeAdressPairs: [string, string][] = [];\n  let apeAdressPairs: [string, string][] = [];\n\n  tokens.forEach((token: ITokenDetail) => {\n    switch (dApp || token.targetPool?.dApp) {\n      case DApp.PANCAKE:\n        pancakeAdressPairs.push([\n          token.targetPool?.quoteAddress as string,\n          token.address,\n        ]);\n        break;\n\n      case DApp.APE:\n        apeAdressPairs.push([\n          token.targetPool?.quoteAddress as string,\n          token.address,\n        ]);\n        break;\n    }\n  });\n\n  let poolReserve: [[BigNumber, BigNumber][], [BigNumber, BigNumber][]] = [\n    [],\n    [],\n  ];\n  let isRequestError = false;\n\n  try {\n    poolReserve = await updateChunkTokenPrice(\n      pancakeAdressPairs,\n      apeAdressPairs,\n      dApp\n    );\n  } catch (error) {\n    isRequestError = true;\n    toastUpdateTokenPriceError();\n    console.log(error);\n  }\n\n  if (isRequestError) {\n    return tokens;\n  }\n\n  const bnbReservePrice = tokenHelper.computedTokenReservePricePerQuote(\n    _.last(poolReserve[0]) as [BigNumber, BigNumber]\n  );\n  dispatch(quoteTokenAction.updateBnb({ bnb: { price: bnbReservePrice } }));\n\n  const tokenReserve: TTokenReserve = mappingTokeReserve(\n    [...pancakeAdressPairs, ...apeAdressPairs],\n    [...poolReserve[0].slice(0, poolReserve[0].length - 1), ...poolReserve[1]]\n  );\n\n  newTokens = tokens.map((token: ITokenDetail): ITokenDetail => {\n    const reserve = tokenReserve[token.address];\n    const newReserve: [string, string] = [\n      utils.formatEther(reserve[0]),\n      utils.formatUnits(reserve[1], token.decimals),\n    ];\n    let liquidity: number = token.targetPool?.liquidity as number;\n    let reservePrice: number = token.price as number;\n\n    switch (token.targetPool?.quoteAddress) {\n      case BUSD_BEP20.address:\n      case USDT_BEP20.address:\n      case USDC_BEP20.address:\n        liquidity = tokenHelper.computedLiquidity(reserve);\n        reservePrice = tokenHelper.computedTokenReservePricePerQuote(\n          reserve,\n          token.decimals\n        );\n\n        break;\n\n      case BNB_BEP20.address:\n        liquidity = tokenHelper.computedLiquidity(reserve) * bnbReservePrice;\n        reservePrice =\n          tokenHelper.computedTokenReservePricePerQuote(\n            reserve,\n            token.decimals\n          ) * bnbReservePrice;\n\n        break;\n    }\n\n    return {\n      ...token,\n      price: reservePrice,\n      targetPool: {\n        ...(token.targetPool as IPool),\n        liquidity,\n        reservePrice,\n        reserve: newReserve,\n      },\n    };\n  });\n\n  return newTokens;\n}\n\nasync function updateChunkTokenPrice(\n  pancakeAdressPairs: [string, string][],\n  apeAdressPairs: [string, string][],\n  dApp?: DApp\n): Promise<[[BigNumber, BigNumber][], [BigNumber, BigNumber][]]> {\n  const isQuotePancake = !dApp || dApp === DApp.PANCAKE;\n  const chunkPancakeAddress: [string, string][][] = _.chunk(\n    isQuotePancake\n      ? [...pancakeAdressPairs, [BUSD_BEP20.address, BNB_BEP20.address]]\n      : pancakeAdressPairs,\n    CHUNK_DATA_NUMBER\n  );\n  const chunkApeAddress: [string, string][][] = _.chunk(\n    !isQuotePancake\n      ? [...apeAdressPairs, [BUSD_BEP20.address, BNB_BEP20.address]]\n      : apeAdressPairs,\n    CHUNK_DATA_NUMBER\n  );\n  let chunkPoolReservePancakePromises: Promise<any>[] = [];\n  let chunkPoolReserveApePromises: Promise<any>[] = [];\n\n  _.each(chunkPancakeAddress, (address: [string, string][]) => {\n    chunkPoolReservePancakePromises.push(\n      bep20ProxyContract.getReversesMulti(PANCAKE_FACTORY, address)\n    );\n  });\n  _.each(chunkApeAddress, (address: [string, string][]) => {\n    chunkPoolReserveApePromises.push(\n      bep20ProxyContract.getReversesMulti(APE_FACTORY, address)\n    );\n  });\n\n  const chunkDatas = await Promise.all([\n    ...chunkPoolReservePancakePromises,\n    ...chunkPoolReserveApePromises,\n  ]);\n  const poolReserve: [[BigNumber, BigNumber][], [BigNumber, BigNumber][]] =\n    isQuotePancake\n      ? [\n          _.flatten(\n            _.slice(chunkDatas, 0, _.size(chunkPoolReservePancakePromises)) as [\n              BigNumber,\n              BigNumber\n            ][][]\n          ),\n          _.flatten(\n            _.slice(\n              chunkDatas,\n              _.size(chunkPoolReservePancakePromises),\n              _.size(chunkDatas)\n            ) as [BigNumber, BigNumber][][]\n          ),\n        ]\n      : [\n          [\n            ..._.flatten(\n              _.slice(\n                chunkDatas,\n                0,\n                _.size(chunkPoolReservePancakePromises)\n              ) as [BigNumber, BigNumber][][]\n            ),\n            _.last(_.last(chunkDatas)) as [BigNumber, BigNumber],\n          ],\n          _.slice(\n            _.flatten(\n              _.slice(\n                chunkDatas,\n                _.size(chunkPoolReservePancakePromises),\n                _.size(chunkDatas)\n              ) as [BigNumber, BigNumber][][]\n            ),\n            0,\n            _.size(apeAdressPairs)\n          ),\n        ];\n\n  return poolReserve;\n}\n\nfunction mappingTokeReserve(\n  addressPairs: [string, string][],\n  reserve: [BigNumber, BigNumber][]\n): TTokenReserve {\n  const tokenReserve: TTokenReserve = {};\n\n  addressPairs.forEach((address: [string, string], index: number) => {\n    tokenReserve[address[1]] = reserve[index];\n  });\n\n  return tokenReserve;\n}\n\nlet timer = 0;\nfunction toastUpdateTokenPriceError() {\n  if (timer === 0) {\n    toast.error('Update token price failure!', {\n      autoClose: 1000,\n      hideProgressBar: true,\n    });\n    timer = +new Date();\n  } else if (+new Date() >= timer + 3 * 1000) {\n    timer = 0;\n  }\n}\n\n// Legacy code\ntype TSwapAmount = {\n  amount0In: BigNumber;\n  amount0Out: BigNumber;\n  amount1In: BigNumber;\n  amount1Out: BigNumber;\n};\n\nexport async function updateTokenOldPrice() {\n  const OLD_BLOCK = 400;\n  const RANGE_BLOCK = 60;\n  const tokens: ITokenDetail[] = getState().tokens;\n  const bnbToken: ITokenDetail = {\n    ...BNB_BEP20,\n    targetPool: {\n      address: BNB_BUSD_PANCAKE_POOL,\n      quoteSymbol: BUSD_BEP20.symbol as string,\n      quoteAddress: BUSD_BEP20.address,\n    },\n  };\n  const lastBlock: number = await bscProvider.getBlockNumber();\n  let oldSwapPromises: Promise<ITokenDetail | null>[] = [];\n\n  [...tokens, bnbToken].forEach((token: ITokenDetail) => {\n    const poolContract: Contract = getBep20Contract(\n      token.targetPool?.address as string\n    );\n    const filter: EventFilter = poolContract.filters.Swap();\n    const oldSwapPromise = poolContract\n      .queryFilter(\n        filter,\n        lastBlock - OLD_BLOCK - RANGE_BLOCK,\n        lastBlock - OLD_BLOCK\n      )\n      .then((results: Event[]): ITokenDetail | null => {\n        if (results.length === 0) {\n          return null;\n        }\n\n        const swapAmount: TSwapAmount = {\n          amount0In: _.last(results)?.args?.['amount0In'],\n          amount0Out: _.last(results)?.args?.['amount0Out'],\n          amount1In: _.last(results)?.args?.['amount1In'],\n          amount1Out: _.last(results)?.args?.['amount1Out'],\n        };\n\n        return {\n          ...token,\n          oldPrice: Math.abs(\n            computedTokenSwapPricePerQuote(\n              token.targetPool?.quoteAddress as string,\n              token.address,\n              token.decimals as number,\n              swapAmount\n            )\n          ),\n        };\n      });\n\n    oldSwapPromises.push(oldSwapPromise);\n  });\n\n  let oldSwapTokens: ITokenDetail[] = _.compact(\n    await Promise.all(oldSwapPromises)\n  );\n\n  oldSwapTokens = convertOldPriceToUsd(oldSwapTokens);\n\n  dispatch(tokenAction.updateTokenOldPrice(oldSwapTokens));\n}\n\nfunction computedTokenSwapPricePerQuote(\n  quoteTokenAddress: string,\n  tokenAddress: string,\n  tokenDecimals: number,\n  swapAmount: TSwapAmount\n): number {\n  const quoteTokenBigNumber = BigNumber.from(quoteTokenAddress);\n  const tokenBigNumber = BigNumber.from(tokenAddress);\n\n  let swapPrice: number;\n\n  if (quoteTokenBigNumber.lt(tokenBigNumber)) {\n    const amount0In = Number(utils.formatEther(swapAmount.amount0In));\n    const amount0Out = Number(utils.formatEther(swapAmount.amount0Out));\n    const amount1In = Number(\n      utils.formatUnits(swapAmount.amount1In, tokenDecimals)\n    );\n    const amount1Out = Number(\n      utils.formatUnits(swapAmount.amount1Out, tokenDecimals)\n    );\n\n    if (amount0In) {\n      swapPrice = amount0In / amount1Out;\n    } else {\n      swapPrice = -amount0Out / amount1In;\n    }\n  } else {\n    const amount0In = Number(\n      utils.formatUnits(swapAmount.amount0In, tokenDecimals)\n    );\n    const amount0Out = Number(\n      utils.formatUnits(swapAmount.amount0Out, tokenDecimals)\n    );\n    const amount1In = Number(utils.formatEther(swapAmount.amount1In));\n    const amount1Out = Number(utils.formatEther(swapAmount.amount1Out));\n\n    if (amount0In) {\n      swapPrice = -amount1Out / amount0In;\n    } else {\n      swapPrice = amount1In / amount0Out;\n    }\n  }\n\n  return swapPrice;\n}\n\nfunction convertOldPriceToUsd(oldSwapTokens: ITokenDetail[]): ITokenDetail[] {\n  const oldPriceBnb: number = _.last(oldSwapTokens)?.oldPrice as number;\n\n  return oldSwapTokens.map((token: ITokenDetail): ITokenDetail => {\n    if (BNB_BEP20.address === token.targetPool?.quoteAddress) {\n      return {\n        ...token,\n        oldPrice: (token.oldPrice as number) * (oldPriceBnb as number),\n      };\n    }\n\n    return token;\n  });\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnIcon\":\"InputText_btnIcon__2xZss\",\"btnIconIOS\":\"InputText_btnIconIOS__vG8tS\"};"],"sourceRoot":""}